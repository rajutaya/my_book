<!DOCTYPE html>

<html>
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">

<title>module ActivityDetailHelper - Rails Application Documentation</title>

<link type="text/css" media="screen" href="./rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "./";
</script>

<script type="text/javascript" charset="utf-8" src="./js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/navigation.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/search_index.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/search.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/searcher.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/darkfish.js"></script>


<body id="top" class="module">
<nav id="metadata">
  <nav id="home-section" class="section">
  <h3 class="section-header">
    <a href="./index.html">Home</a>
    <a href="./table_of_contents.html#classes">Classes</a>
    <a href="./table_of_contents.html#methods">Methods</a>
  </h3>
</nav>


  <nav id="search-section" class="section project-section" class="initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <h3 class="section-header">
      <input type="text" name="search" placeholder="Search" id="search-field"
             title="Type to search, Up and Down to navigate, Enter to load">
    </h3>
  </form>

  <ul id="search-results" class="initially-hidden"></ul>
</nav>


  <div id="file-metadata">
    <nav id="file-list-section" class="section">
  <h3 class="section-header">Defined In</h3>
  <ul>
    <li>app/helpers/activity_detail_helper.rb
  </ul>
</nav>

    
  </div>

  <div id="class-metadata">
    
    
    
    <!-- Method Quickref -->
<nav id="method-list-section" class="section">
  <h3 class="section-header">Methods</h3>

  <ul class="link-list">
    
    <li><a href="#method-i-ActivityAddress">#ActivityAddress</a>
    
    <li><a href="#method-i-AnyTimeSchedule">#AnyTimeSchedule</a>
    
    <li><a href="#method-i-ChecForDiscount">#ChecForDiscount</a>
    
    <li><a href="#method-i-ChecForDiscountAnyTime">#ChecForDiscountAnyTime</a>
    
    <li><a href="#method-i-Displaydiscount">#Displaydiscount</a>
    
    <li><a href="#method-i-MultiPrice">#MultiPrice</a>
    
    <li><a href="#method-i-RepeatDisplays">#RepeatDisplays</a>
    
    <li><a href="#method-i-SchedulePrice">#SchedulePrice</a>
    
    <li><a href="#method-i-SchedulePriceAnyTime">#SchedulePriceAnyTime</a>
    
    <li><a href="#method-i-ShowDiscount">#ShowDiscount</a>
    
    <li><a href="#method-i-capacity_of_participants">#capacity_of_participants</a>
    
    <li><a href="#method-i-check_participants_toAttend">#check_participants_toAttend</a>
    
    <li><a href="#method-i-check_participants_toAttendSchedule">#check_participants_toAttendSchedule</a>
    
    <li><a href="#method-i-event_calendar_data">#event_calendar_data</a>
    
    <li><a href="#method-i-form_attendees_list">#form_attendees_list</a>
    
    <li><a href="#method-i-form_filled_participant">#form_filled_participant</a>
    
    <li><a href="#method-i-format_date_time">#format_date_time</a>
    
    <li><a href="#method-i-gcal_client_ids">#gcal_client_ids</a>
    
    <li><a href="#method-i-getCorrectTime">#getCorrectTime</a>
    
    <li><a href="#method-i-getDate_for_anytime">#getDate_for_anytime</a>
    
    <li><a href="#method-i-get_activity_det">#get_activity_det</a>
    
    <li><a href="#method-i-googleCalData">#googleCalData</a>
    
    <li><a href="#method-i-googlecal_monthly_rep">#googlecal_monthly_rep</a>
    
    <li><a href="#method-i-googlecal_weekly_rep">#googlecal_weekly_rep</a>
    
    <li><a href="#method-i-match_calendar_day">#match_calendar_day</a>
    
    <li><a href="#method-i-match_days">#match_days</a>
    
    <li><a href="#method-i-match_entire_day">#match_entire_day</a>
    
    <li><a href="#method-i-selfCheckParti">#selfCheckParti</a>
    
    <li><a href="#method-i-time_zone_location">#time_zone_location</a>
    
  </ul>
</nav>

  </div>

  <div id="project-metadata">
    <nav id="fileindex-section" class="section project-section">
  <h3 class="section-header">Pages</h3>

  <ul>
  
    <li class="file"><a href="./doc/README_FOR_APP.html">README_FOR_APP</a>
  
  </ul>
</nav>

    <nav id="classindex-section" class="section project-section">
  <h3 class="section-header">Class and Module Index</h3>

  <ul class="link-list">
  
    <li><a href="./ActivitiesController.html">ActivitiesController</a>
  
    <li><a href="./ActivitiesHelper.html">ActivitiesHelper</a>
  
    <li><a href="./Activity.html">Activity</a>
  
    <li><a href="./ActivityAttendDetail.html">ActivityAttendDetail</a>
  
    <li><a href="./ActivityAttendDetailsController.html">ActivityAttendDetailsController</a>
  
    <li><a href="./ActivityAttendDetailsHelper.html">ActivityAttendDetailsHelper</a>
  
    <li><a href="./ActivityBid.html">ActivityBid</a>
  
    <li><a href="./ActivityBidsController.html">ActivityBidsController</a>
  
    <li><a href="./ActivityBidsHelper.html">ActivityBidsHelper</a>
  
    <li><a href="./ActivityCategoriesController.html">ActivityCategoriesController</a>
  
    <li><a href="./ActivityCategoriesHelper.html">ActivityCategoriesHelper</a>
  
    <li><a href="./ActivityCategory.html">ActivityCategory</a>
  
    <li><a href="./ActivityClick.html">ActivityClick</a>
  
    <li><a href="./ActivityComment.html">ActivityComment</a>
  
    <li><a href="./ActivityCommentsController.html">ActivityCommentsController</a>
  
    <li><a href="./ActivityCommentsHelper.html">ActivityCommentsHelper</a>
  
    <li><a href="./ActivityCount.html">ActivityCount</a>
  
    <li><a href="./ActivityDetailController.html">ActivityDetailController</a>
  
    <li><a href="./ActivityDetailHelper.html">ActivityDetailHelper</a>
  
    <li><a href="./ActivityDiscountPrice.html">ActivityDiscountPrice</a>
  
    <li><a href="./ActivityFavorite.html">ActivityFavorite</a>
  
    <li><a href="./ActivityFavoritesController.html">ActivityFavoritesController</a>
  
    <li><a href="./ActivityFavoritesHelper.html">ActivityFavoritesHelper</a>
  
    <li><a href="./ActivityForm.html">ActivityForm</a>
  
    <li><a href="./ActivityNetworkController.html">ActivityNetworkController</a>
  
    <li><a href="./ActivityNetworkHelper.html">ActivityNetworkHelper</a>
  
    <li><a href="./ActivityNetworkPermission.html">ActivityNetworkPermission</a>
  
    <li><a href="./ActivityPrice.html">ActivityPrice</a>
  
    <li><a href="./ActivityPricesController.html">ActivityPricesController</a>
  
    <li><a href="./ActivityPricesHelper.html">ActivityPricesHelper</a>
  
    <li><a href="./ActivityRating.html">ActivityRating</a>
  
    <li><a href="./ActivityRatingsController.html">ActivityRatingsController</a>
  
    <li><a href="./ActivityRatingsHelper.html">ActivityRatingsHelper</a>
  
    <li><a href="./ActivityRepeat.html">ActivityRepeat</a>
  
    <li><a href="./ActivityRepeatsController.html">ActivityRepeatsController</a>
  
    <li><a href="./ActivityRepeatsHelper.html">ActivityRepeatsHelper</a>
  
    <li><a href="./ActivityRow.html">ActivityRow</a>
  
    <li><a href="./ActivityRowsController.html">ActivityRowsController</a>
  
    <li><a href="./ActivityRowsHelper.html">ActivityRowsHelper</a>
  
    <li><a href="./ActivitySchedule.html">ActivitySchedule</a>
  
    <li><a href="./ActivitySchedulesController.html">ActivitySchedulesController</a>
  
    <li><a href="./ActivitySchedulesHelper.html">ActivitySchedulesHelper</a>
  
    <li><a href="./ActivitySetting.html">ActivitySetting</a>
  
    <li><a href="./ActivitySettingsDetail.html">ActivitySettingsDetail</a>
  
    <li><a href="./ActivitySettingsType.html">ActivitySettingsType</a>
  
    <li><a href="./ActivityShared.html">ActivityShared</a>
  
    <li><a href="./ActivitySharedsController.html">ActivitySharedsController</a>
  
    <li><a href="./ActivitySharedsHelper.html">ActivitySharedsHelper</a>
  
    <li><a href="./ActivitySubcategoriesController.html">ActivitySubcategoriesController</a>
  
    <li><a href="./ActivitySubcategoriesHelper.html">ActivitySubcategoriesHelper</a>
  
    <li><a href="./ActivitySubcategory.html">ActivitySubcategory</a>
  
    <li><a href="./ActivityTotalCount.html">ActivityTotalCount</a>
  
    <li><a href="./ActivityTrack.html">ActivityTrack</a>
  
    <li><a href="./AdminController.html">AdminController</a>
  
    <li><a href="./AdminDiscountCode.html">AdminDiscountCode</a>
  
    <li><a href="./AdminDiscountCodesController.html">AdminDiscountCodesController</a>
  
    <li><a href="./AdminDiscountCodesHelper.html">AdminDiscountCodesHelper</a>
  
    <li><a href="./AdminHelper.html">AdminHelper</a>
  
    <li><a href="./AgeRangeColorsController.html">AgeRangeColorsController</a>
  
    <li><a href="./AgeRangeColorsHelper.html">AgeRangeColorsHelper</a>
  
    <li><a href="./AgerangeColor.html">AgerangeColor</a>
  
    <li><a href="./AgerangeColorsController.html">AgerangeColorsController</a>
  
    <li><a href="./AgerangeColorsHelper.html">AgerangeColorsHelper</a>
  
    <li><a href="./ApplicationController.html">ApplicationController</a>
  
    <li><a href="./ApplicationHelper.html">ApplicationHelper</a>
  
    <li><a href="./Authentication.html">Authentication</a>
  
    <li><a href="./AuthenticationsController.html">AuthenticationsController</a>
  
    <li><a href="./BlockUser.html">BlockUser</a>
  
    <li><a href="./CheckoutController.html">CheckoutController</a>
  
    <li><a href="./City.html">City</a>
  
    <li><a href="./CityGroup.html">CityGroup</a>
  
    <li><a href="./ContactGroup.html">ContactGroup</a>
  
    <li><a href="./ContactGroupsController.html">ContactGroupsController</a>
  
    <li><a href="./ContactGroupsHelper.html">ContactGroupsHelper</a>
  
    <li><a href="./ContactUser.html">ContactUser</a>
  
    <li><a href="./ContactUserGroup.html">ContactUserGroup</a>
  
    <li><a href="./ContactUsersController.html">ContactUsersController</a>
  
    <li><a href="./ContactUsersHelper.html">ContactUsersHelper</a>
  
    <li><a href="./Country.html">Country</a>
  
    <li><a href="./DefaultFilter.html">DefaultFilter</a>
  
    <li><a href="./DefaultFiltersController.html">DefaultFiltersController</a>
  
    <li><a href="./DefaultFiltersHelper.html">DefaultFiltersHelper</a>
  
    <li><a href="./DeletedSchedule.html">DeletedSchedule</a>
  
    <li><a href="./DetailPageIdentityHelper.html">DetailPageIdentityHelper</a>
  
    <li><a href="./DetailsPageController.html">DetailsPageController</a>
  
    <li><a href="./DetailsPageHelper.html">DetailsPageHelper</a>
  
    <li><a href="./DiscountDollarsController.html">DiscountDollarsController</a>
  
    <li><a href="./DiscountDollarsHelper.html">DiscountDollarsHelper</a>
  
    <li><a href="./EmbedController.html">EmbedController</a>
  
    <li><a href="./ErrorsController.html">ErrorsController</a>
  
    <li><a href="./FamFeeDetail.html">FamFeeDetail</a>
  
    <li><a href="./FamNetwork.html">FamNetwork</a>
  
    <li><a href="./FamNetworkGroup.html">FamNetworkGroup</a>
  
    <li><a href="./FamNetworkGroupsController.html">FamNetworkGroupsController</a>
  
    <li><a href="./FamNetworkGroupsHelper.html">FamNetworkGroupsHelper</a>
  
    <li><a href="./FamNetworkPost.html">FamNetworkPost</a>
  
    <li><a href="./FamNetworkPostsController.html">FamNetworkPostsController</a>
  
    <li><a href="./FamNetworkPostsHelper.html">FamNetworkPostsHelper</a>
  
    <li><a href="./FamNetworkRow.html">FamNetworkRow</a>
  
    <li><a href="./FamNetworksController.html">FamNetworksController</a>
  
    <li><a href="./FamNetworksHelper.html">FamNetworksHelper</a>
  
    <li><a href="./FamPost.html">FamPost</a>
  
    <li><a href="./FamPostsController.html">FamPostsController</a>
  
    <li><a href="./FamPostsHelper.html">FamPostsHelper</a>
  
    <li><a href="./FampassDetail.html">FampassDetail</a>
  
    <li><a href="./FamtivityNetworkMailer.html">FamtivityNetworkMailer</a>
  
    <li><a href="./FeaturedAuditLog.html">FeaturedAuditLog</a>
  
    <li><a href="./FeaturedAuditLogsController.html">FeaturedAuditLogsController</a>
  
    <li><a href="./FeaturedAuditLogsHelper.html">FeaturedAuditLogsHelper</a>
  
    <li><a href="./FollowingUser.html">FollowingUser</a>
  
    <li><a href="./Form.html">Form</a>
  
    <li><a href="./FormQuestion.html">FormQuestion</a>
  
    <li><a href="./FormResult.html">FormResult</a>
  
    <li><a href="./FormResultAnswer.html">FormResultAnswer</a>
  
    <li><a href="./FormsController.html">FormsController</a>
  
    <li><a href="./FormsHelper.html">FormsHelper</a>
  
    <li><a href="./GeneralTag.html">GeneralTag</a>
  
    <li><a href="./GuestDetail.html">GuestDetail</a>
  
    <li><a href="./HomeController.html">HomeController</a>
  
    <li><a href="./HomeHelper.html">HomeHelper</a>
  
    <li><a href="./InviteAttendees.html">InviteAttendees</a>
  
    <li><a href="./InvitesHelper.html">InvitesHelper</a>
  
    <li><a href="./InvitorList.html">InvitorList</a>
  
    <li><a href="./InvitorListHelper.html">InvitorListHelper</a>
  
    <li><a href="./LandingController.html">LandingController</a>
  
    <li><a href="./LandingHelper.html">LandingHelper</a>
  
    <li><a href="./LeadTransaction.html">LeadTransaction</a>
  
    <li><a href="./LoginController.html">LoginController</a>
  
    <li><a href="./LogoutController.html">LogoutController</a>
  
    <li><a href="./Manager.html">Manager</a>
  
    <li><a href="./Message.html">Message</a>
  
    <li><a href="./MessageFile.html">MessageFile</a>
  
    <li><a href="./MessageMailer.html">MessageMailer</a>
  
    <li><a href="./MessageThread.html">MessageThread</a>
  
    <li><a href="./MessageThreadViewer.html">MessageThreadViewer</a>
  
    <li><a href="./MessagesController.html">MessagesController</a>
  
    <li><a href="./MessagesHelper.html">MessagesHelper</a>
  
    <li><a href="./MonthlyBudget.html">MonthlyBudget</a>
  
    <li><a href="./MonthlyBudgetsController.html">MonthlyBudgetsController</a>
  
    <li><a href="./MonthlyBudgetsHelper.html">MonthlyBudgetsHelper</a>
  
    <li><a href="./NewsletterMailer.html">NewsletterMailer</a>
  
    <li><a href="./NewslettersController.html">NewslettersController</a>
  
    <li><a href="./NotificationDetail.html">NotificationDetail</a>
  
    <li><a href="./ParentNotification.html">ParentNotification</a>
  
    <li><a href="./ParentNotificationDetail.html">ParentNotificationDetail</a>
  
    <li><a href="./ParentSetting.html">ParentSetting</a>
  
    <li><a href="./ParentSettingDetail.html">ParentSettingDetail</a>
  
    <li><a href="./ParentSettingsController.html">ParentSettingsController</a>
  
    <li><a href="./Participant.html">Participant</a>
  
    <li><a href="./ParticipantsController.html">ParticipantsController</a>
  
    <li><a href="./ParticipantsHelper.html">ParticipantsHelper</a>
  
    <li><a href="./PaymentDetail.html">PaymentDetail</a>
  
    <li><a href="./PaymentDetailsController.html">PaymentDetailsController</a>
  
    <li><a href="./PaymentDetailsHelper.html">PaymentDetailsHelper</a>
  
    <li><a href="./PoliciesController.html">PoliciesController</a>
  
    <li><a href="./PoliciesHelper.html">PoliciesHelper</a>
  
    <li><a href="./Policy.html">Policy</a>
  
    <li><a href="./PolicyFile.html">PolicyFile</a>
  
    <li><a href="./PolicyType.html">PolicyType</a>
  
    <li><a href="./ProviderActivityFee.html">ProviderActivityFee</a>
  
    <li><a href="./ProviderActivityFeeType.html">ProviderActivityFeeType</a>
  
    <li><a href="./ProviderCount.html">ProviderCount</a>
  
    <li><a href="./ProviderDiscountCode.html">ProviderDiscountCode</a>
  
    <li><a href="./ProviderDiscountCodeType.html">ProviderDiscountCodeType</a>
  
    <li><a href="./ProviderDiscountType.html">ProviderDiscountType</a>
  
    <li><a href="./ProviderLead.html">ProviderLead</a>
  
    <li><a href="./ProviderListController.html">ProviderListController</a>
  
    <li><a href="./ProviderNotification.html">ProviderNotification</a>
  
    <li><a href="./ProviderNotificationDetail.html">ProviderNotificationDetail</a>
  
    <li><a href="./ProviderSetting.html">ProviderSetting</a>
  
    <li><a href="./ProviderSettingDetail.html">ProviderSettingDetail</a>
  
    <li><a href="./ProviderSettingsController.html">ProviderSettingsController</a>
  
    <li><a href="./ProviderSettingsHelper.html">ProviderSettingsHelper</a>
  
    <li><a href="./ProviderTransaction.html">ProviderTransaction</a>
  
    <li><a href="./ProviderTransactionLog.html">ProviderTransactionLog</a>
  
    <li><a href="./ProviderWebsiteTrack.html">ProviderWebsiteTrack</a>
  
    <li><a href="./Question.html">Question</a>
  
    <li><a href="./QuestionType.html">QuestionType</a>
  
    <li><a href="./QuestionValue.html">QuestionValue</a>
  
    <li><a href="./QuickLinksController.html">QuickLinksController</a>
  
    <li><a href="./QuickLinksHelper.html">QuickLinksHelper</a>
  
    <li><a href="./SchoolRepresentative.html">SchoolRepresentative</a>
  
    <li><a href="./SchoolRepresentativesController.html">SchoolRepresentativesController</a>
  
    <li><a href="./SearchController.html">SearchController</a>
  
    <li><a href="./SearchHelper.html">SearchHelper</a>
  
    <li><a href="./SendSMS.html">SendSMS</a>
  
    <li><a href="./Setting.html">Setting</a>
  
    <li><a href="./SettingsController.html">SettingsController</a>
  
    <li><a href="./SettingsHelper.html">SettingsHelper</a>
  
    <li><a href="./SmsStatus.html">SmsStatus</a>
  
    <li><a href="./SocialType.html">SocialType</a>
  
    <li><a href="./SponsorShip.html">SponsorShip</a>
  
    <li><a href="./SponsorShipsController.html">SponsorShipsController</a>
  
    <li><a href="./SponsorShipsHelper.html">SponsorShipsHelper</a>
  
    <li><a href="./State.html">State</a>
  
    <li><a href="./StaticController.html">StaticController</a>
  
    <li><a href="./Support.html">Support</a>
  
    <li><a href="./SupportsController.html">SupportsController</a>
  
    <li><a href="./SupportsHelper.html">SupportsHelper</a>
  
    <li><a href="./Ticket.html">Ticket</a>
  
    <li><a href="./TicketsController.html">TicketsController</a>
  
    <li><a href="./TicketsHelper.html">TicketsHelper</a>
  
    <li><a href="./TransactionDetail.html">TransactionDetail</a>
  
    <li><a href="./User.html">User</a>
  
    <li><a href="./UserBankDetail.html">UserBankDetail</a>
  
    <li><a href="./UserCalender.html">UserCalender</a>
  
    <li><a href="./UserCard.html">UserCard</a>
  
    <li><a href="./UserChild.html">UserChild</a>
  
    <li><a href="./UserChildrenController.html">UserChildrenController</a>
  
    <li><a href="./UserCredit.html">UserCredit</a>
  
    <li><a href="./UserDeactivateLog.html">UserDeactivateLog</a>
  
    <li><a href="./UserDebit.html">UserDebit</a>
  
    <li><a href="./UserDeletedAccount.html">UserDeletedAccount</a>
  
    <li><a href="./UserEmailChangeLog.html">UserEmailChangeLog</a>
  
    <li><a href="./UserMailer.html">UserMailer</a>
  
    <li><a href="./UserNotification.html">UserNotification</a>
  
    <li><a href="./UserProfile.html">UserProfile</a>
  
    <li><a href="./UserProfilesController.html">UserProfilesController</a>
  
    <li><a href="./UserProfilesHelper.html">UserProfilesHelper</a>
  
    <li><a href="./UserRow.html">UserRow</a>
  
    <li><a href="./UserSettingsHelper.html">UserSettingsHelper</a>
  
    <li><a href="./UserTransaction.html">UserTransaction</a>
  
    <li><a href="./UserTransactionsController.html">UserTransactionsController</a>
  
    <li><a href="./UserTransactionsHelper.html">UserTransactionsHelper</a>
  
    <li><a href="./UsersController.html">UsersController</a>
  
    <li><a href="./UsersHelper.html">UsersHelper</a>
  
    <li><a href="./WeekendActivity.html">WeekendActivity</a>
  
    <li><a href="./WeekendMailer.html">WeekendMailer</a>
  
  </ul>
</nav>

  </div>
</nav>

<div id="documentation">
  <h1 class="module">module ActivityDetailHelper</h1>

  <div id="description" class="description">
    
  </div><!-- description -->

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    

    <!-- Methods -->
    
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Public Instance Methods</h3>

    
      <div id="method-i-ActivityAddress" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">ActivityAddress</span><span
            class="method-args">(act)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>To display address</p>
          

          
          <div class="method-source-code" id="ActivityAddress-source">
            <pre><span class="ruby-comment"># File app/helpers/activity_detail_helper.rb, line 481</span>
<span class="ruby-keyword">def</span> <span class="ruby-constant">ActivityAddress</span>(<span class="ruby-identifier">act</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">act</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">act</span>.<span class="ruby-identifier">user_id</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-identifier">user</span> = <span class="ruby-constant">User</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">act</span>.<span class="ruby-identifier">user_id</span>)
    <span class="ruby-identifier">user_profile</span> = <span class="ruby-identifier">user</span>.<span class="ruby-identifier">user_profile</span>
    <span class="ruby-identifier">addrss1</span> = (<span class="ruby-operator">!</span><span class="ruby-identifier">user_profile</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">act</span>.<span class="ruby-identifier">nil?</span>) <span class="ruby-operator">?</span> (<span class="ruby-operator">!</span><span class="ruby-identifier">user_profile</span>.<span class="ruby-identifier">business_name</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">user_profile</span>.<span class="ruby-identifier">business_name</span><span class="ruby-operator">+</span><span class="ruby-string">', '</span> <span class="ruby-operator">:</span> <span class="ruby-string">''</span>) <span class="ruby-operator">:</span> <span class="ruby-string">''</span>
    <span class="ruby-identifier">addrss2</span> = (<span class="ruby-operator">!</span><span class="ruby-identifier">act</span>.<span class="ruby-identifier">address_1</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">act</span>.<span class="ruby-identifier">address_1</span><span class="ruby-operator">+</span><span class="ruby-string">', '</span> <span class="ruby-operator">:</span> <span class="ruby-string">''</span>)<span class="ruby-operator">+</span>(<span class="ruby-operator">!</span><span class="ruby-identifier">act</span>.<span class="ruby-identifier">address_2</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">act</span>.<span class="ruby-identifier">address_2</span>.<span class="ruby-identifier">present?</span> <span class="ruby-operator">?</span> <span class="ruby-string">', '</span><span class="ruby-operator">+</span><span class="ruby-identifier">act</span>.<span class="ruby-identifier">address_2</span> <span class="ruby-operator">:</span> <span class="ruby-string">''</span>)
    <span class="ruby-identifier">addrss3</span> = (<span class="ruby-operator">!</span><span class="ruby-identifier">act</span>.<span class="ruby-identifier">nil?</span>) <span class="ruby-operator">?</span> (<span class="ruby-operator">!</span><span class="ruby-identifier">act</span>.<span class="ruby-identifier">city</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">act</span>.<span class="ruby-identifier">city</span><span class="ruby-operator">+</span><span class="ruby-string">', '</span> <span class="ruby-operator">:</span> <span class="ruby-string">''</span>)<span class="ruby-operator">+</span>(<span class="ruby-operator">!</span><span class="ruby-identifier">act</span>.<span class="ruby-identifier">state</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">act</span>.<span class="ruby-identifier">state</span> <span class="ruby-operator">:</span> <span class="ruby-string">''</span>) <span class="ruby-operator">:</span> <span class="ruby-string">''</span>
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">addrss1</span>, <span class="ruby-identifier">addrss2</span>, <span class="ruby-identifier">addrss3</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- ActivityAddress-source -->
          
        </div>

        

        
      </div><!-- ActivityAddress-method -->

    
      <div id="method-i-AnyTimeSchedule" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">AnyTimeSchedule</span><span
            class="method-args">(act)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="AnyTimeSchedule-source">
            <pre><span class="ruby-comment"># File app/helpers/activity_detail_helper.rb, line 602</span>
<span class="ruby-keyword">def</span> <span class="ruby-constant">AnyTimeSchedule</span>(<span class="ruby-identifier">act</span>)
  <span class="ruby-identifier">act_schedules</span> = <span class="ruby-identifier">act</span>.<span class="ruby-identifier">activity_schedule</span>.<span class="ruby-identifier">where</span>(<span class="ruby-string">&quot;lower(schedule_mode)=?&quot;</span>,<span class="ruby-string">'any time'</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">act_schedules</span>.<span class="ruby-identifier">present?</span>
    <span class="ruby-identifier">list_arr</span> = []
    <span class="ruby-identifier">added_days</span> = []
    <span class="ruby-identifier">total_days</span> = [<span class="ruby-string">'mon'</span>,<span class="ruby-string">'tue'</span>,<span class="ruby-string">'wed'</span>,<span class="ruby-string">'thu'</span>,<span class="ruby-string">'fri'</span>,<span class="ruby-string">'sat'</span>,<span class="ruby-string">'sun'</span>]
    <span class="ruby-identifier">act_schedules</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">a_sc</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">added_days</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">a_sc</span>.<span class="ruby-identifier">business_hours</span>
      <span class="ruby-identifier">any_format</span> = <span class="ruby-identifier">a_sc</span>.<span class="ruby-identifier">business_hours</span>.<span class="ruby-identifier">titlecase</span><span class="ruby-operator">+</span><span class="ruby-string">', '</span><span class="ruby-operator">+</span>((<span class="ruby-operator">!</span><span class="ruby-identifier">a_sc</span>.<span class="ruby-identifier">start_time</span>.<span class="ruby-identifier">nil?</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">a_sc</span>.<span class="ruby-identifier">start_time</span>.<span class="ruby-identifier">strftime</span>(<span class="ruby-string">&quot;%l:%M %p&quot;</span>) <span class="ruby-operator">:</span> <span class="ruby-string">''</span>)<span class="ruby-operator">+</span><span class="ruby-string">'-'</span><span class="ruby-operator">+</span>((<span class="ruby-operator">!</span><span class="ruby-identifier">a_sc</span>.<span class="ruby-identifier">end_time</span>.<span class="ruby-identifier">nil?</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">a_sc</span>.<span class="ruby-identifier">end_time</span>.<span class="ruby-identifier">strftime</span>(<span class="ruby-string">&quot;%l:%M %p&quot;</span>) <span class="ruby-operator">:</span> <span class="ruby-string">''</span>)
      <span class="ruby-identifier">list_arr</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">any_format</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">closed_days</span> = (<span class="ruby-identifier">total_days</span>.<span class="ruby-identifier">present?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">added_days</span>.<span class="ruby-identifier">present?</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">total_days</span><span class="ruby-operator">-</span><span class="ruby-identifier">added_days</span> <span class="ruby-operator">:</span> <span class="ruby-string">''</span>
    <span class="ruby-identifier">clos_str</span> = <span class="ruby-string">''</span>
    <span class="ruby-identifier">closed_days</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">closed_days</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">c_day</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">clos_str</span> = (<span class="ruby-identifier">clos_str</span><span class="ruby-operator">==</span><span class="ruby-string">''</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">clos_str</span>.<span class="ruby-identifier">concat</span>(<span class="ruby-identifier">c_day</span>.<span class="ruby-identifier">titlecase</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">clos_str</span>.<span class="ruby-identifier">concat</span>(<span class="ruby-string">','</span><span class="ruby-operator">+</span><span class="ruby-identifier">c_day</span>.<span class="ruby-identifier">titlecase</span>)
    <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">list_arr</span>,<span class="ruby-identifier">clos_str</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- AnyTimeSchedule-source -->
          
        </div>

        

        
      </div><!-- AnyTimeSchedule-method -->

    
      <div id="method-i-ChecForDiscount" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">ChecForDiscount</span><span
            class="method-args">(sched_id)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>To check for discount display</p>
          

          
          <div class="method-source-code" id="ChecForDiscount-source">
            <pre><span class="ruby-comment"># File app/helpers/activity_detail_helper.rb, line 579</span>
<span class="ruby-keyword">def</span> <span class="ruby-constant">ChecForDiscount</span>(<span class="ruby-identifier">sched_id</span>)
  <span class="ruby-identifier">acti_prices</span>= <span class="ruby-constant">ActivityPrice</span>.<span class="ruby-identifier">where</span>(<span class="ruby-string">&quot;activity_schedule_id=?&quot;</span>,<span class="ruby-identifier">sched_id</span>)
  <span class="ruby-identifier">disc_present</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-identifier">acti_prices</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">ac_pri</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">ac_pri</span>.<span class="ruby-identifier">activity_discount_price</span>.<span class="ruby-identifier">present?</span>
      <span class="ruby-identifier">disc_present</span>=<span class="ruby-keyword">true</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">disc_present</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- ChecForDiscount-source -->
          
        </div>

        

        
      </div><!-- ChecForDiscount-method -->

    
      <div id="method-i-ChecForDiscountAnyTime" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">ChecForDiscountAnyTime</span><span
            class="method-args">(act_id)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>To check for discount display for AnyTime</p>
          

          
          <div class="method-source-code" id="ChecForDiscountAnyTime-source">
            <pre><span class="ruby-comment"># File app/helpers/activity_detail_helper.rb, line 591</span>
<span class="ruby-keyword">def</span> <span class="ruby-constant">ChecForDiscountAnyTime</span>(<span class="ruby-identifier">act_id</span>)
  <span class="ruby-identifier">acti_prices</span>= <span class="ruby-constant">ActivityPrice</span>.<span class="ruby-identifier">where</span>(<span class="ruby-string">&quot;activity_id=?&quot;</span>,<span class="ruby-identifier">act_id</span>)
  <span class="ruby-identifier">disc_present</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-identifier">acti_prices</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">ac_pri</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">ac_pri</span>.<span class="ruby-identifier">activity_discount_price</span>.<span class="ruby-identifier">present?</span>
      <span class="ruby-identifier">disc_present</span>=<span class="ruby-keyword">true</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">disc_present</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- ChecForDiscountAnyTime-source -->
          
        </div>

        

        
      </div><!-- ChecForDiscountAnyTime-method -->

    
      <div id="method-i-Displaydiscount" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">Displaydiscount</span><span
            class="method-args">(act_price)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="Displaydiscount-source">
            <pre><span class="ruby-comment"># File app/helpers/activity_detail_helper.rb, line 545</span>
<span class="ruby-keyword">def</span> <span class="ruby-constant">Displaydiscount</span>(<span class="ruby-identifier">act_price</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">act_price</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-identifier">act_discount</span> = <span class="ruby-identifier">act_price</span>.<span class="ruby-identifier">activity_discount_price</span>.<span class="ruby-identifier">last</span>
    <span class="ruby-comment">#~ if !act_discount.nil? &amp;&amp; !act_discount.discount_type.nil? &amp;&amp; !act_discount.discount_currency_type.nil? &amp;&amp; !act_discount.discount_number.nil?</span>
                      <span class="ruby-comment">#~ dis_name = act_discount.discount_type</span>
                      <span class="ruby-comment">#~ dis_value = act_discount.discount_currency_type+act_discount.discount_price.to_s+' off '  number_with_precision p.price, :precision =&gt; 2</span>
                      <span class="ruby-comment">#~ disc_val = ' for '+act_discount.discount_number.to_s+' Participants '</span>
                      <span class="ruby-comment">#~ disc_val = (act_discount.discount_type.downcase=='early bird discount') ?  disc_val+', until'+act_discount.discount_valid.strftime(&quot;%a, %b %d, %Y&quot;) : disc_val</span>
                <span class="ruby-comment">#~ return dis_name,dis_value,disc_val</span>
    <span class="ruby-comment">#~ end</span>
    <span class="ruby-constant">ShowDiscount</span>(<span class="ruby-identifier">act_discount</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- Displaydiscount-source -->
          
        </div>

        

        
      </div><!-- Displaydiscount-method -->

    
      <div id="method-i-MultiPrice" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">MultiPrice</span><span
            class="method-args">(p)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>For provider side - Detail Page start To display price detail</p>
          

          
          <div class="method-source-code" id="MultiPrice-source">
            <pre><span class="ruby-comment"># File app/helpers/activity_detail_helper.rb, line 494</span>
<span class="ruby-keyword">def</span> <span class="ruby-constant">MultiPrice</span>(<span class="ruby-identifier">p</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">p</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">p</span>.<span class="ruby-identifier">payment_period</span> <span class="ruby-operator">==</span><span class="ruby-string">&quot;Class Card&quot;</span>
      <span class="ruby-identifier">pay_calss</span> = <span class="ruby-string">&quot;Class Card&quot;</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">p</span>.<span class="ruby-identifier">no_of_class</span> <span class="ruby-operator">==</span> <span class="ruby-string">&quot;1&quot;</span>
        <span class="ruby-identifier">pay_calss_value</span> = <span class="ruby-node">&quot;(#{p.no_of_class} Class)&quot;</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">pay_calss_value</span> = <span class="ruby-node">&quot;(#{p.no_of_class} Classes)&quot;</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">p</span>.<span class="ruby-identifier">payment_period</span><span class="ruby-operator">==</span><span class="ruby-string">&quot;Per Class&quot;</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">p</span>.<span class="ruby-identifier">no_of_class</span><span class="ruby-operator">==</span> <span class="ruby-string">&quot;1&quot;</span>
        <span class="ruby-identifier">pay_calss</span> = <span class="ruby-node">&quot;#{p.no_of_class} Day&quot;</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">pay_calss</span> = <span class="ruby-node">&quot;#{p.no_of_class} Days&quot;</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">p</span>.<span class="ruby-identifier">payment_period</span> <span class="ruby-operator">==</span><span class="ruby-string">&quot;Per Session&quot;</span>
      <span class="ruby-identifier">hour</span> = <span class="ruby-string">&quot;&quot;</span>
      <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">p</span>.<span class="ruby-identifier">no_of_hour</span>.<span class="ruby-identifier">nil?</span>
        <span class="ruby-identifier">hour</span> = <span class="ruby-node">&quot;#{p.no_of_hour} hours&quot;</span>
      <span class="ruby-keyword">end</span>
      <span class="ruby-identifier">pay_calss</span> = <span class="ruby-node">&quot;Per Session (#{p.no_of_class} days #{hour}) &quot;</span>
    <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">p</span>.<span class="ruby-identifier">payment_period</span> <span class="ruby-operator">==</span><span class="ruby-string">&quot;Per Hour&quot;</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">p</span>.<span class="ruby-identifier">no_of_class</span> <span class="ruby-operator">==</span> <span class="ruby-string">&quot;1&quot;</span>
        <span class="ruby-identifier">pay_calss</span> = <span class="ruby-node">&quot;#{p.no_of_class} Hour&quot;</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">pay_calss</span> = <span class="ruby-node">&quot;#{p.no_of_class} Hours&quot;</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">p</span>.<span class="ruby-identifier">payment_period</span><span class="ruby-operator">==</span><span class="ruby-string">&quot;Weekly&quot;</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">p</span>.<span class="ruby-identifier">no_of_class</span> <span class="ruby-operator">==</span> <span class="ruby-string">&quot;1&quot;</span>
        <span class="ruby-identifier">pay_calss</span> = <span class="ruby-node">&quot;#{p.no_of_class} Week&quot;</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">pay_calss</span> = <span class="ruby-node">&quot;#{p.no_of_class} Weeks&quot;</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">p</span>.<span class="ruby-identifier">payment_period</span> <span class="ruby-operator">==</span><span class="ruby-string">&quot;Monthly&quot;</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">p</span>.<span class="ruby-identifier">no_of_class</span> <span class="ruby-operator">==</span> <span class="ruby-string">&quot;1&quot;</span>
        <span class="ruby-identifier">pay_calss</span> = <span class="ruby-node">&quot;#{p.no_of_class} Month&quot;</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">pay_calss</span> = <span class="ruby-node">&quot;#{p.no_of_class} Months&quot;</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">p</span>.<span class="ruby-identifier">payment_period</span> <span class="ruby-operator">==</span><span class="ruby-string">&quot;Yearly&quot;</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">p</span>.<span class="ruby-identifier">no_of_class</span><span class="ruby-operator">==</span> <span class="ruby-string">&quot;1&quot;</span>
        <span class="ruby-identifier">pay_calss</span> = <span class="ruby-node">&quot;#{p.no_of_class} Year&quot;</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">pay_calss</span> = <span class="ruby-node">&quot;#{p.no_of_class} Years&quot;</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-comment">#~ discount = Displaydiscount(p)</span>
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">pay_calss</span>,<span class="ruby-identifier">pay_calss_value</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- MultiPrice-source -->
          
        </div>

        

        
      </div><!-- MultiPrice-method -->

    
      <div id="method-i-RepeatDisplays" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">RepeatDisplays</span><span
            class="method-args">(repeat)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="RepeatDisplays-source">
            <pre><span class="ruby-comment"># File app/helpers/activity_detail_helper.rb, line 186</span>
<span class="ruby-keyword">def</span> <span class="ruby-constant">RepeatDisplays</span>(<span class="ruby-identifier">repeat</span>)
  <span class="ruby-identifier">collective_str</span> = <span class="ruby-string">''</span>
  <span class="ruby-identifier">collective_str</span> = <span class="ruby-string">' Repeats '</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">repeats</span>.<span class="ruby-identifier">downcase</span><span class="ruby-operator">==</span><span class="ruby-string">'daily'</span>
        
    <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">repeat_every</span>.<span class="ruby-identifier">nil?</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">repeat_every</span><span class="ruby-operator">==</span><span class="ruby-string">'1'</span>
        <span class="ruby-identifier">test</span> = <span class="ruby-string">'Daily '</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">test</span> =<span class="ruby-string">'Every '</span><span class="ruby-operator">+</span> <span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">repeat_every</span><span class="ruby-operator">+</span><span class="ruby-string">' Days '</span>
      <span class="ruby-keyword">end</span>
      <span class="ruby-identifier">collective_str</span> = <span class="ruby-identifier">collective_str</span><span class="ruby-operator">+</span><span class="ruby-identifier">test</span>
    <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">repeats</span>.<span class="ruby-identifier">downcase</span><span class="ruby-operator">==</span><span class="ruby-string">'weekly'</span>

    <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">repeat_every</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">repeat_every</span><span class="ruby-operator">==</span><span class="ruby-string">'1'</span>
      <span class="ruby-identifier">test</span> = <span class="ruby-string">'Weekly'</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-comment">#~ w_day=repeat.repeat_on.split(&quot;,&quot;)</span>
      <span class="ruby-comment">#~ length=w_day.length-1 if !w_day.nil?</span>
      <span class="ruby-comment">#~ w_day.each_with_index do |wk,i|</span>
        <span class="ruby-comment">#~ if !wk.nil? &amp;&amp; wk!=&quot;&quot; &amp;&amp; wk.present?</span>
          <span class="ruby-comment">#~ test =' Every '+((repeat &amp;&amp; repeat.repeat_every &amp;&amp; !repeat.repeat_every.nil?) ? repeat.repeat_every : '')+' Weeks on '+ ((i==length &amp;&amp; !wk.nil?) ? wk+' '  : wk  + &quot; ,&quot; )</span>
        <span class="ruby-comment">#~ end</span>
      <span class="ruby-comment">#~ end</span>
      <span class="ruby-identifier">test</span> =<span class="ruby-string">'Every '</span><span class="ruby-operator">+</span>((<span class="ruby-identifier">repeat</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">repeat_every</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">repeat_every</span>.<span class="ruby-identifier">nil?</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">repeat_every</span> <span class="ruby-operator">:</span> <span class="ruby-string">''</span>)<span class="ruby-operator">+</span><span class="ruby-string">' Weeks'</span>
    <span class="ruby-keyword">end</span>

      <span class="ruby-identifier">w_day</span>=<span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">repeat_on</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-string">','</span>,<span class="ruby-string">', '</span>)  <span class="ruby-keyword">if</span> <span class="ruby-identifier">repeat</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">repeat_on</span>.<span class="ruby-identifier">present?</span>
        <span class="ruby-keyword">if</span> <span class="ruby-identifier">w_day</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">w_day</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">w_day</span>.<span class="ruby-identifier">present?</span>
          <span class="ruby-identifier">test</span> = <span class="ruby-identifier">test</span><span class="ruby-operator">+</span><span class="ruby-string">' on '</span><span class="ruby-operator">+</span> <span class="ruby-identifier">w_day</span>
        <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">collective_str</span> = <span class="ruby-identifier">collective_str</span><span class="ruby-operator">+</span><span class="ruby-identifier">test</span>
              
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">repeats</span>.<span class="ruby-identifier">downcase</span><span class="ruby-operator">==</span><span class="ruby-string">'monthly'</span>
      
    <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">repeat_every</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">repeat_every</span><span class="ruby-operator">==</span><span class="ruby-string">'1'</span>
      <span class="ruby-identifier">test</span> = <span class="ruby-string">'Monthly '</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-comment">#~ test = 'Every Months on '</span>
      <span class="ruby-identifier">test</span> =<span class="ruby-string">'Every '</span><span class="ruby-operator">+</span>((<span class="ruby-identifier">repeat</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">repeat_every</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">repeat_every</span>.<span class="ruby-identifier">nil?</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">repeat_every</span> <span class="ruby-operator">:</span> <span class="ruby-string">''</span>)<span class="ruby-operator">+</span><span class="ruby-string">' Months'</span>
    <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">repeated_by_month</span><span class="ruby-operator">==</span><span class="ruby-constant">TRUE</span>
        <span class="ruby-identifier">test</span> = <span class="ruby-identifier">test</span><span class="ruby-operator">+</span><span class="ruby-string">' on '</span><span class="ruby-operator">+</span>((<span class="ruby-operator">!</span><span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">starts_on</span>.<span class="ruby-identifier">nil?</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">starts_on</span>.<span class="ruby-identifier">strftime</span>(<span class="ruby-string">&quot;day %d &quot;</span>) <span class="ruby-operator">:</span> <span class="ruby-string">''</span>)
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">my_date</span> = <span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">starts_on</span>
        <span class="ruby-identifier">week_of_target_date</span> = <span class="ruby-identifier">my_date</span>.<span class="ruby-identifier">strftime</span>(<span class="ruby-string">&quot;%U&quot;</span>).<span class="ruby-identifier">to_i</span>
        <span class="ruby-identifier">week_of_beginning_of_month</span> = <span class="ruby-identifier">my_date</span>.<span class="ruby-identifier">beginning_of_month</span>.<span class="ruby-identifier">strftime</span>(<span class="ruby-string">&quot;%U&quot;</span>).<span class="ruby-identifier">to_i</span>
        <span class="ruby-identifier">repeat_week</span> = <span class="ruby-identifier">week_of_target_date</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">week_of_beginning_of_month</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>
        <span class="ruby-keyword">if</span> <span class="ruby-identifier">repeat_week</span><span class="ruby-operator">==</span><span class="ruby-value">1</span>
          <span class="ruby-identifier">spe_day</span> = <span class="ruby-string">' First '</span>
        <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">repeat_week</span><span class="ruby-operator">==</span><span class="ruby-value">2</span>
          <span class="ruby-identifier">spe_day</span> = <span class="ruby-string">' Second '</span>
        <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">repeat_week</span><span class="ruby-operator">==</span><span class="ruby-value">3</span>
          <span class="ruby-identifier">spe_day</span> = <span class="ruby-string">' Third '</span>
        <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">repeat_week</span><span class="ruby-operator">==</span><span class="ruby-value">4</span>
          <span class="ruby-identifier">spe_day</span> = <span class="ruby-string">' Fourth '</span>
        <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">repeat_week</span><span class="ruby-operator">==</span><span class="ruby-value">5</span>
          <span class="ruby-identifier">spe_day</span> = <span class="ruby-string">' Fifth '</span>
        <span class="ruby-keyword">end</span>
        <span class="ruby-identifier">test</span> = <span class="ruby-identifier">test</span><span class="ruby-operator">+</span><span class="ruby-string">' on '</span><span class="ruby-operator">+</span><span class="ruby-identifier">spe_day</span><span class="ruby-operator">+</span>((<span class="ruby-operator">!</span><span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">starts_on</span>.<span class="ruby-identifier">nil?</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">starts_on</span>.<span class="ruby-identifier">strftime</span>(<span class="ruby-string">&quot;%a&quot;</span>) <span class="ruby-operator">:</span> <span class="ruby-string">''</span>)
      <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">collective_str</span> = <span class="ruby-identifier">collective_str</span><span class="ruby-operator">+</span><span class="ruby-identifier">test</span>

  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">repeats</span>.<span class="ruby-identifier">downcase</span><span class="ruby-operator">==</span><span class="ruby-string">'yearly'</span>
    
    <span class="ruby-keyword">if</span>  <span class="ruby-operator">!</span><span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">repeat_every</span>.<span class="ruby-identifier">nil?</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">repeat_every</span><span class="ruby-operator">==</span><span class="ruby-string">'1'</span>
        <span class="ruby-identifier">test</span> = <span class="ruby-string">' Annually'</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">test</span> = <span class="ruby-string">'Every '</span><span class="ruby-operator">+</span><span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">repeat_every</span><span class="ruby-operator">+</span><span class="ruby-string">' Years'</span>
      <span class="ruby-keyword">end</span>

      <span class="ruby-identifier">test</span> = <span class="ruby-identifier">test</span><span class="ruby-operator">+</span><span class="ruby-string">' on '</span><span class="ruby-operator">+</span>((<span class="ruby-operator">!</span><span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">starts_on</span>.<span class="ruby-identifier">nil?</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">starts_on</span>.<span class="ruby-identifier">strftime</span>(<span class="ruby-string">&quot;%b %d &quot;</span>) <span class="ruby-operator">:</span> <span class="ruby-string">''</span>)
      <span class="ruby-identifier">collective_str</span> = <span class="ruby-identifier">collective_str</span><span class="ruby-operator">+</span><span class="ruby-identifier">test</span>
    <span class="ruby-keyword">end</span>
 
  <span class="ruby-keyword">end</span>

<span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">end_occurences</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">end_occurences!</span>=<span class="ruby-string">&quot;&quot;</span>
    <span class="ruby-identifier">chk_end_date</span> = (<span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">end_occurences</span><span class="ruby-operator">==</span><span class="ruby-string">&quot;1&quot;</span> <span class="ruby-operator">?</span> <span class="ruby-string">', Once '</span> <span class="ruby-operator">:</span> <span class="ruby-string">', '</span><span class="ruby-operator">+</span><span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">end_occurences</span><span class="ruby-operator">+</span><span class="ruby-string">' times '</span>)
<span class="ruby-keyword">end</span>

  <span class="ruby-comment">#~ if !repeat.nil? &amp;&amp; !repeat.ends_never.nil? &amp;&amp; repeat.ends_never!=&quot;&quot; &amp;&amp; repeat.ends_never==true</span>
    <span class="ruby-comment">#~ chk_end_date = ' Ends Never '</span>
  <span class="ruby-comment">#~ elsif !repeat.nil? &amp;&amp; !repeat.end_occurences.nil? &amp;&amp; repeat.end_occurences!=&quot;&quot;</span>
    <span class="ruby-comment">#~ chk_end_date = (repeat.end_occurences==&quot;1&quot; ? ', Once ' : ', '+repeat.end_occurences+' times ')</span>
  <span class="ruby-comment">#~ elsif !repeat.nil? &amp;&amp; !repeat.ends_on.nil? &amp;&amp; repeat.ends_on!=&quot;&quot;</span>
    <span class="ruby-comment">#~ chk_end_date = repeat.ends_on.strftime(&quot;until %a, %b %d, %Y&quot;)</span>
  <span class="ruby-comment">#~ end</span>

  <span class="ruby-identifier">collective_str</span> = (<span class="ruby-identifier">chk_end_date</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">collective_str</span><span class="ruby-operator">+</span><span class="ruby-identifier">chk_end_date</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">collective_str</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">collective_str</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- RepeatDisplays-source -->
          
        </div>

        

        
      </div><!-- RepeatDisplays-method -->

    
      <div id="method-i-SchedulePrice" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">SchedulePrice</span><span
            class="method-args">(sched)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>To display price</p>
          

          
          <div class="method-source-code" id="SchedulePrice-source">
            <pre><span class="ruby-comment"># File app/helpers/activity_detail_helper.rb, line 457</span>
<span class="ruby-keyword">def</span> <span class="ruby-constant">SchedulePrice</span>(<span class="ruby-identifier">sched</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">sched</span>.<span class="ruby-identifier">present?</span>
    <span class="ruby-identifier">act_prices</span> = <span class="ruby-identifier">sched</span>.<span class="ruby-identifier">activity_prices</span>
    <span class="ruby-identifier">count</span> = (<span class="ruby-operator">!</span><span class="ruby-identifier">act_prices</span>.<span class="ruby-identifier">nil?</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">act_prices</span>.<span class="ruby-identifier">count</span> <span class="ruby-operator">:</span> <span class="ruby-value">0</span>
    <span class="ruby-identifier">price</span> = <span class="ruby-identifier">act_prices</span>.<span class="ruby-identifier">last</span>
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">count</span>,<span class="ruby-identifier">price</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- SchedulePrice-source -->
          
        </div>

        

        
      </div><!-- SchedulePrice-method -->

    
      <div id="method-i-SchedulePriceAnyTime" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">SchedulePriceAnyTime</span><span
            class="method-args">(act)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>To display price for AnyTime</p>
          

          
          <div class="method-source-code" id="SchedulePriceAnyTime-source">
            <pre><span class="ruby-comment"># File app/helpers/activity_detail_helper.rb, line 467</span>
<span class="ruby-keyword">def</span> <span class="ruby-constant">SchedulePriceAnyTime</span>(<span class="ruby-identifier">act</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">act</span>.<span class="ruby-identifier">present?</span>
    <span class="ruby-identifier">act_prices</span> = <span class="ruby-constant">ActivityPrice</span>.<span class="ruby-identifier">where</span>(<span class="ruby-string">&quot;activity_id=?&quot;</span>,<span class="ruby-identifier">act</span>.<span class="ruby-identifier">activity_id</span>)
    <span class="ruby-identifier">count</span> = (<span class="ruby-operator">!</span><span class="ruby-identifier">act_prices</span>.<span class="ruby-identifier">nil?</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">act_prices</span>.<span class="ruby-identifier">count</span> <span class="ruby-operator">:</span> <span class="ruby-value">0</span>
    <span class="ruby-identifier">price</span> = <span class="ruby-identifier">act_prices</span>.<span class="ruby-identifier">last</span>
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">count</span>,<span class="ruby-identifier">price</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- SchedulePriceAnyTime-source -->
          
        </div>

        

        
      </div><!-- SchedulePriceAnyTime-method -->

    
      <div id="method-i-ShowDiscount" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">ShowDiscount</span><span
            class="method-args">(act_discount)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="ShowDiscount-source">
            <pre><span class="ruby-comment"># File app/helpers/activity_detail_helper.rb, line 560</span>
<span class="ruby-keyword">def</span> <span class="ruby-constant">ShowDiscount</span>(<span class="ruby-identifier">act_discount</span>)
              <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">act_discount</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">act_discount</span>.<span class="ruby-identifier">discount_type</span>.<span class="ruby-identifier">nil?</span>
                      <span class="ruby-identifier">dis_name</span> = <span class="ruby-identifier">act_discount</span>.<span class="ruby-identifier">discount_type</span>
                      <span class="ruby-identifier">dis_value</span> = ((<span class="ruby-operator">!</span><span class="ruby-identifier">act_discount</span>.<span class="ruby-identifier">discount_currency_type</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">act_discount</span>.<span class="ruby-identifier">discount_currency_type</span> <span class="ruby-operator">==</span> <span class="ruby-string">'$'</span>) <span class="ruby-operator">?</span> <span class="ruby-string">'$'</span> <span class="ruby-operator">:</span> <span class="ruby-string">''</span>)<span class="ruby-operator">+</span> (<span class="ruby-identifier">number_with_precision</span> <span class="ruby-identifier">act_discount</span>.<span class="ruby-identifier">discount_price</span>, <span class="ruby-value">:precision</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>)<span class="ruby-operator">+</span>((<span class="ruby-operator">!</span><span class="ruby-identifier">act_discount</span>.<span class="ruby-identifier">discount_currency_type</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">act_discount</span>.<span class="ruby-identifier">discount_currency_type</span> <span class="ruby-operator">==</span> <span class="ruby-string">'%'</span>) <span class="ruby-operator">?</span> <span class="ruby-string">'%'</span> <span class="ruby-operator">:</span> <span class="ruby-string">''</span>)<span class="ruby-operator">+</span><span class="ruby-string">' off '</span>
                      <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">act_discount</span>.<span class="ruby-identifier">discount_number</span>.<span class="ruby-identifier">nil?</span>
      <span class="ruby-identifier">disc_val</span> = <span class="ruby-string">' for '</span><span class="ruby-operator">+</span><span class="ruby-identifier">act_discount</span>.<span class="ruby-identifier">discount_number</span>.<span class="ruby-identifier">to_s</span><span class="ruby-operator">+</span>((<span class="ruby-operator">!</span><span class="ruby-identifier">act_discount</span>.<span class="ruby-identifier">discount_type</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">act_discount</span>.<span class="ruby-identifier">discount_type</span>.<span class="ruby-identifier">downcase</span><span class="ruby-operator">==</span><span class="ruby-string">'multiple session discount'</span>) <span class="ruby-operator">?</span> <span class="ruby-string">' Sessions '</span> <span class="ruby-operator">:</span> <span class="ruby-string">' Participants'</span>)
    <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">act_discount</span>.<span class="ruby-identifier">discount_valid</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">act_discount</span>.<span class="ruby-identifier">discount_number</span>.<span class="ruby-identifier">nil?</span>
      <span class="ruby-identifier">disc_val</span> = (<span class="ruby-identifier">act_discount</span>.<span class="ruby-identifier">discount_type</span>.<span class="ruby-identifier">downcase</span>) <span class="ruby-operator">?</span>  <span class="ruby-identifier">disc_val</span><span class="ruby-operator">+</span><span class="ruby-string">', until '</span><span class="ruby-operator">+</span>((<span class="ruby-operator">!</span><span class="ruby-identifier">act_discount</span>.<span class="ruby-identifier">discount_valid</span>.<span class="ruby-identifier">nil?</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">act_discount</span>.<span class="ruby-identifier">discount_valid</span>.<span class="ruby-identifier">strftime</span>(<span class="ruby-string">&quot;%a, %b %d, %Y&quot;</span>) <span class="ruby-operator">:</span> <span class="ruby-string">''</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">disc_val</span>
    <span class="ruby-keyword">elsif</span> <span class="ruby-operator">!</span><span class="ruby-identifier">act_discount</span>.<span class="ruby-identifier">discount_valid</span>.<span class="ruby-identifier">nil?</span>
      <span class="ruby-identifier">disc_val</span> = <span class="ruby-string">'until '</span><span class="ruby-operator">+</span>((<span class="ruby-operator">!</span><span class="ruby-identifier">act_discount</span>.<span class="ruby-identifier">discount_valid</span>.<span class="ruby-identifier">nil?</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">act_discount</span>.<span class="ruby-identifier">discount_valid</span>.<span class="ruby-identifier">strftime</span>(<span class="ruby-string">&quot;%a, %b %d, %Y&quot;</span>) <span class="ruby-operator">:</span> <span class="ruby-string">''</span>)
    <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">dis_name</span>,<span class="ruby-identifier">dis_value</span>,<span class="ruby-identifier">disc_val</span>
              <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- ShowDiscount-source -->
          
        </div>

        

        
      </div><!-- ShowDiscount-method -->

    
      <div id="method-i-capacity_of_participants" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">capacity_of_participants</span><span
            class="method-args">(act)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="capacity_of_participants-source">
            <pre><span class="ruby-comment"># File app/helpers/activity_detail_helper.rb, line 128</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">capacity_of_participants</span>(<span class="ruby-identifier">act</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">act</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">act</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">act</span>.<span class="ruby-identifier">present?</span>
    <span class="ruby-identifier">no_of_participant</span> = <span class="ruby-identifier">act</span>.<span class="ruby-identifier">no_of_participant</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">no_of_participant!</span>=<span class="ruby-value">0</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">no_of_participant</span>.<span class="ruby-identifier">nil?</span>
      <span class="ruby-identifier">selfCheckParti</span>(<span class="ruby-identifier">act</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- capacity_of_participants-source -->
          
        </div>

        

        
      </div><!-- capacity_of_participants-method -->

    
      <div id="method-i-check_participants_toAttend" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">check_participants_toAttend</span><span
            class="method-args">(act)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="check_participants_toAttend-source">
            <pre><span class="ruby-comment"># File app/helpers/activity_detail_helper.rb, line 110</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">check_participants_toAttend</span>(<span class="ruby-identifier">act</span>)
  <span class="ruby-identifier">no_of_participant</span> = <span class="ruby-identifier">act</span>.<span class="ruby-identifier">no_participants</span>
  <span class="ruby-identifier">parti_attended</span> = <span class="ruby-constant">ActivityAttendDetail</span>.<span class="ruby-identifier">where</span>(<span class="ruby-string">'activity_id=? and lower(payment_status)=?'</span>,<span class="ruby-identifier">act</span>.<span class="ruby-identifier">activity_id</span>,<span class="ruby-string">'paid'</span>).<span class="ruby-identifier">count</span>
  <span class="ruby-identifier">can_attnd</span> = <span class="ruby-identifier">no_of_participant</span><span class="ruby-operator">-</span><span class="ruby-identifier">parti_attended</span> <span class="ruby-keyword">if</span>(<span class="ruby-operator">!</span><span class="ruby-identifier">no_of_participant</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">parti_attended</span>.<span class="ruby-identifier">nil?</span>)
  (<span class="ruby-identifier">no_of_participant</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">can_attnd</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>) <span class="ruby-operator">?</span> <span class="ruby-keyword">true</span> <span class="ruby-operator">:</span> <span class="ruby-keyword">false</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- check_participants_toAttend-source -->
          
        </div>

        

        
      </div><!-- check_participants_toAttend-method -->

    
      <div id="method-i-check_participants_toAttendSchedule" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">check_participants_toAttendSchedule</span><span
            class="method-args">(act)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>To check pariticipant for schedule</p>
          

          
          <div class="method-source-code" id="check_participants_toAttendSchedule-source">
            <pre><span class="ruby-comment"># File app/helpers/activity_detail_helper.rb, line 118</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">check_participants_toAttendSchedule</span>(<span class="ruby-identifier">act</span>)
  <span class="ruby-identifier">no_of_participant</span> = <span class="ruby-identifier">act</span>.<span class="ruby-identifier">no_of_participant</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">no_of_participant!</span>=<span class="ruby-value">0</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">no_of_participant</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-identifier">can_attnd</span> = <span class="ruby-identifier">selfCheckParti</span>(<span class="ruby-identifier">act</span>)
    (<span class="ruby-identifier">no_of_participant</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">||</span> (<span class="ruby-identifier">can_attnd</span>  <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">can_attnd</span>[<span class="ruby-value">0</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">can_attnd</span>[<span class="ruby-value">0</span>] <span class="ruby-operator">&lt;</span> <span class="ruby-value">1</span>)) <span class="ruby-operator">?</span> <span class="ruby-keyword">true</span> <span class="ruby-operator">:</span> <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- check_participants_toAttendSchedule-source -->
          
        </div>

        

        
      </div><!-- check_participants_toAttendSchedule-method -->

    
      <div id="method-i-event_calendar_data" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">event_calendar_data</span><span
            class="method-args">(schedule,act)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Event calendar in Detail page</p>
          

          
          <div class="method-source-code" id="event_calendar_data-source">
            <pre><span class="ruby-comment"># File app/helpers/activity_detail_helper.rb, line 647</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">event_calendar_data</span>(<span class="ruby-identifier">schedule</span>,<span class="ruby-identifier">act</span>)
        <span class="ruby-keyword">if</span> <span class="ruby-identifier">schedule</span> <span class="ruby-operator">&amp;&amp;</span>  <span class="ruby-operator">!</span><span class="ruby-identifier">schedule</span>.<span class="ruby-identifier">nil?</span>
                <span class="ruby-identifier">whole_days</span> = <span class="ruby-keyword">false</span>
                <span class="ruby-identifier">repeat</span> = <span class="ruby-identifier">schedule</span>.<span class="ruby-identifier">activity_repeat</span>.<span class="ruby-identifier">last</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">schedule</span>.<span class="ruby-identifier">present?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">schedule</span>.<span class="ruby-identifier">nil?</span>
                <span class="ruby-identifier">start_date</span> = <span class="ruby-identifier">schedule</span>.<span class="ruby-identifier">start_date</span>
                <span class="ruby-identifier">end_date</span> = <span class="ruby-identifier">schedule</span>.<span class="ruby-identifier">expiration_date</span>
                <span class="ruby-keyword">if</span> <span class="ruby-identifier">schedule</span>.<span class="ruby-identifier">schedule_mode</span>.<span class="ruby-identifier">downcase</span> <span class="ruby-operator">==</span> <span class="ruby-string">'schedule'</span>
                        <span class="ruby-keyword">if</span> <span class="ruby-identifier">repeat</span>
                                <span class="ruby-identifier">repeat_every</span> = <span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">repeat_every</span>.<span class="ruby-identifier">to_i</span>
                                 <span class="ruby-keyword">if</span> <span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">repeats</span> <span class="ruby-operator">==</span> <span class="ruby-string">&quot;Daily&quot;</span>
                                        <span class="ruby-identifier">whole_days</span> = <span class="ruby-keyword">true</span>
                                        <span class="ruby-identifier">date</span> = []
                                        <span class="ruby-identifier">date</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">start_date</span>
                                        <span class="ruby-identifier">date</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">end_date</span>
                                 <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">repeats</span> <span class="ruby-operator">==</span> <span class="ruby-string">&quot;Yearly&quot;</span>
                                        <span class="ruby-identifier">r</span> = <span class="ruby-constant">Recurrence</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">:every</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:year</span>,<span class="ruby-value">:starts</span> =<span class="ruby-operator">&gt;</span><span class="ruby-identifier">start_date</span>, <span class="ruby-value">:on</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-identifier">start_date</span>.<span class="ruby-identifier">strftime</span>(<span class="ruby-string">&quot;%m&quot;</span>).<span class="ruby-identifier">to_i</span>, <span class="ruby-identifier">start_date</span>.<span class="ruby-identifier">strftime</span>(<span class="ruby-string">&quot;%d&quot;</span>).<span class="ruby-identifier">to_i</span>],<span class="ruby-value">:until</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">end_date</span>,<span class="ruby-value">:interval=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">repeat_every</span>)
                                 <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">repeats</span> <span class="ruby-operator">==</span> <span class="ruby-string">&quot;Weekly&quot;</span>
                                         <span class="ruby-identifier">rep_on</span> = <span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">repeat_on</span>.<span class="ruby-identifier">split</span>(<span class="ruby-string">','</span>)
                                         <span class="ruby-identifier">repeat_on</span> = <span class="ruby-identifier">rep_on</span>.<span class="ruby-identifier">select!</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-operator">!</span><span class="ruby-identifier">x</span>.<span class="ruby-identifier">nil?</span>}
                                         <span class="ruby-identifier">repeat_on</span> = <span class="ruby-identifier">rep_on</span>.<span class="ruby-identifier">collect</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">s</span><span class="ruby-operator">|</span> <span class="ruby-identifier">match_calendar_day</span>(<span class="ruby-identifier">s</span>)}.<span class="ruby-identifier">compact</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">rep_on</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">rep_on</span>.<span class="ruby-identifier">present?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">rep_on</span>.<span class="ruby-identifier">empty?</span>
                                         <span class="ruby-identifier">r</span> = <span class="ruby-constant">Recurrence</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">:every</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:week</span>, <span class="ruby-value">:on</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">repeat_on</span>,<span class="ruby-value">:starts</span> =<span class="ruby-operator">&gt;</span><span class="ruby-identifier">start_date</span>,<span class="ruby-value">:until</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">end_date</span>,<span class="ruby-value">:interval=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">repeat_every</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">repeat_on</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">repeat_on</span>.<span class="ruby-identifier">present?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">repeat_on</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">end_date</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">end_date</span>.<span class="ruby-identifier">present?</span>
                                 <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">repeats</span> <span class="ruby-operator">==</span> <span class="ruby-string">&quot;Monthly&quot;</span>
                                         <span class="ruby-keyword">if</span> <span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">repeated_by_month</span>
                                                 <span class="ruby-identifier">w_date</span> = <span class="ruby-identifier">start_date</span>.<span class="ruby-identifier">strftime</span>(<span class="ruby-string">&quot;%d&quot;</span>)  <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">start_date</span>.<span class="ruby-identifier">nil?</span>
                                                 <span class="ruby-identifier">r</span> = <span class="ruby-constant">Recurrence</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">:every</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:month</span>,<span class="ruby-value">:starts</span> =<span class="ruby-operator">&gt;</span><span class="ruby-identifier">start_date</span>, <span class="ruby-value">:on</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">w_date</span>.<span class="ruby-identifier">to_i</span>,<span class="ruby-value">:until</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">end_date</span>, <span class="ruby-value">:interval</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">repeat_every</span>)
                                         <span class="ruby-keyword">else</span>
                                                <span class="ruby-identifier">s</span> = <span class="ruby-constant">Activity</span>.<span class="ruby-identifier">week_of_month_for_date</span>(<span class="ruby-identifier">start_date</span>)
                                                <span class="ruby-identifier">w_day</span> = <span class="ruby-identifier">start_date</span>.<span class="ruby-identifier">strftime</span>(<span class="ruby-string">&quot;%A&quot;</span>)  <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">start_date</span>.<span class="ruby-identifier">nil?</span>
                                                <span class="ruby-keyword">if</span> <span class="ruby-identifier">s</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span>
                                                <span class="ruby-identifier">se</span> = <span class="ruby-value">:first</span>
                                                <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">s</span><span class="ruby-operator">==</span><span class="ruby-value">2</span>
                                                <span class="ruby-identifier">se</span> = <span class="ruby-value">:second</span>
                                                <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">s</span><span class="ruby-operator">==</span><span class="ruby-value">3</span>
                                                <span class="ruby-identifier">se</span> = <span class="ruby-value">:third</span>
                                                <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">s</span><span class="ruby-operator">&gt;=</span><span class="ruby-value">4</span>
                                                <span class="ruby-identifier">se</span> = <span class="ruby-value">:last</span>
                                                <span class="ruby-keyword">end</span>
                                                 <span class="ruby-identifier">r</span> = <span class="ruby-constant">Recurrence</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">:every</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:month</span>,<span class="ruby-value">:starts</span> =<span class="ruby-operator">&gt;</span><span class="ruby-identifier">start_date</span>, <span class="ruby-value">:on</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">se</span>,  <span class="ruby-value">:weekday</span> =<span class="ruby-operator">&gt;</span><span class="ruby-value">:&quot;#{w_day.downcase}&quot;</span> ,<span class="ruby-value">:until</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">end_date</span>, <span class="ruby-value">:interval</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">repeat_every</span>)
                                         <span class="ruby-keyword">end</span>
                                 <span class="ruby-keyword">end</span>
                                 <span class="ruby-identifier">date</span> = <span class="ruby-identifier">r</span>.<span class="ruby-identifier">events</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">date</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">r</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">r</span>.<span class="ruby-identifier">events</span>
                         <span class="ruby-keyword">else</span>
                                 <span class="ruby-identifier">date</span> = [<span class="ruby-node">&quot;#{start_date}&quot;</span>]
                         <span class="ruby-keyword">end</span>
                 <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">schedule</span>.<span class="ruby-identifier">schedule_mode</span>.<span class="ruby-identifier">downcase</span> <span class="ruby-operator">==</span> <span class="ruby-string">'whole day'</span>
                         <span class="ruby-keyword">if</span> <span class="ruby-identifier">schedule</span>.<span class="ruby-identifier">end_date</span>.<span class="ruby-identifier">nil?</span>
                                 <span class="ruby-identifier">date</span> = [<span class="ruby-node">&quot;#{start_date}&quot;</span>]
                         <span class="ruby-keyword">else</span>
                                 <span class="ruby-identifier">whole_days</span> = <span class="ruby-keyword">true</span>
                                 <span class="ruby-identifier">date</span> = []
                                 <span class="ruby-identifier">date</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">start_date</span>
                                 <span class="ruby-identifier">date</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">end_date</span>
                         <span class="ruby-keyword">end</span>
                <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">schedule</span>.<span class="ruby-identifier">schedule_mode</span>.<span class="ruby-identifier">downcase</span> <span class="ruby-operator">==</span> <span class="ruby-string">'any time'</span>
                        <span class="ruby-identifier">rep_on</span> = <span class="ruby-identifier">act</span>.<span class="ruby-identifier">fetch_activity_schedule</span>.<span class="ruby-identifier">where</span>(<span class="ruby-string">&quot;lower(schedule_mode)=?&quot;</span>,<span class="ruby-string">'any time'</span>).<span class="ruby-identifier">map</span>(&amp;<span class="ruby-value">:business_hours</span>)
                        <span class="ruby-identifier">repeat_on</span> = <span class="ruby-identifier">rep_on</span>.<span class="ruby-identifier">select!</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-operator">!</span><span class="ruby-identifier">x</span>.<span class="ruby-identifier">nil?</span>}
                        <span class="ruby-identifier">repeat_on</span> = <span class="ruby-identifier">rep_on</span>.<span class="ruby-identifier">collect</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">s</span><span class="ruby-operator">|</span> <span class="ruby-identifier">match_calendar_day</span>(<span class="ruby-identifier">s</span>)} <span class="ruby-keyword">if</span> <span class="ruby-identifier">rep_on</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">rep_on</span>.<span class="ruby-identifier">present?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">rep_on</span>.<span class="ruby-identifier">empty?</span>
                        <span class="ruby-identifier">r</span> = <span class="ruby-constant">Recurrence</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">:every</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:week</span>, <span class="ruby-value">:on</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">repeat_on</span>,<span class="ruby-value">:until</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">end_date</span>,<span class="ruby-value">:interval=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">1</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">repeat_on</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">repeat_on</span>.<span class="ruby-identifier">present?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">repeat_on</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">end_date</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">end_date</span>.<span class="ruby-identifier">present?</span>
                        <span class="ruby-identifier">date</span> = <span class="ruby-identifier">r</span>.<span class="ruby-identifier">events</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">r</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">r</span>.<span class="ruby-identifier">events</span>
                 <span class="ruby-keyword">end</span>
         <span class="ruby-keyword">end</span>
         <span class="ruby-keyword">return</span> <span class="ruby-identifier">date</span>,<span class="ruby-identifier">whole_days</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- event_calendar_data-source -->
          
        </div>

        

        
      </div><!-- event_calendar_data-method -->

    
      <div id="method-i-form_attendees_list" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">form_attendees_list</span><span
            class="method-args">(activityid,schedule_mode,scheduleid,userid)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>attendees list for require form - fill</p>
          

          
          <div class="method-source-code" id="form_attendees_list-source">
            <pre><span class="ruby-comment"># File app/helpers/activity_detail_helper.rb, line 286</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">form_attendees_list</span>(<span class="ruby-identifier">activityid</span>,<span class="ruby-identifier">schedule_mode</span>,<span class="ruby-identifier">scheduleid</span>,<span class="ruby-identifier">userid</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">schedule_mode</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">schedule_mode!</span>=<span class="ruby-string">''</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">schedule_mode</span>.<span class="ruby-identifier">downcase</span> <span class="ruby-operator">==</span> <span class="ruby-string">'any time'</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">schedule_mode</span>.<span class="ruby-identifier">downcase</span> <span class="ruby-operator">==</span> <span class="ruby-string">'any where'</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">schedule_mode</span>.<span class="ruby-identifier">downcase</span> <span class="ruby-operator">==</span> <span class="ruby-string">'by appointment'</span>
    <span class="ruby-ivar">@attend</span>=<span class="ruby-constant">Participant</span>.<span class="ruby-identifier">find_by_sql</span>(<span class="ruby-node">&quot;select a.*,p.* from participants p left join activity_attend_details a on p.participant_id=a.participant_id where a.activity_id=#{activityid} and a.user_id=#{userid} and lower(a.payment_status)='paid'&quot;</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-ivar">@attend</span>=<span class="ruby-constant">Participant</span>.<span class="ruby-identifier">find_by_sql</span>(<span class="ruby-node">&quot;select a.*,p.* from participants p left join activity_attend_details a on p.participant_id=a.participant_id where a.activity_id=#{activityid} and a.user_id=#{userid} and a.schedule_id=#{scheduleid} and lower(a.payment_status)='paid'&quot;</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">return</span> <span class="ruby-ivar">@attend</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- form_attendees_list-source -->
          
        </div>

        

        
      </div><!-- form_attendees_list-method -->

    
      <div id="method-i-form_filled_participant" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">form_filled_participant</span><span
            class="method-args">(activityid,schedule_mode,scheduleid,userid,formid,partid)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>check participant filled the form or not - use this in activity details
page, network page</p>
          

          
          <div class="method-source-code" id="form_filled_participant-source">
            <pre><span class="ruby-comment"># File app/helpers/activity_detail_helper.rb, line 295</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">form_filled_participant</span>(<span class="ruby-identifier">activityid</span>,<span class="ruby-identifier">schedule_mode</span>,<span class="ruby-identifier">scheduleid</span>,<span class="ruby-identifier">userid</span>,<span class="ruby-identifier">formid</span>,<span class="ruby-identifier">partid</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">schedule_mode</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">schedule_mode!</span>=<span class="ruby-string">''</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">schedule_mode</span>.<span class="ruby-identifier">downcase</span> <span class="ruby-operator">==</span> <span class="ruby-string">'any time'</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">schedule_mode</span>.<span class="ruby-identifier">downcase</span> <span class="ruby-operator">==</span> <span class="ruby-string">'any where'</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">schedule_mode</span>.<span class="ruby-identifier">downcase</span> <span class="ruby-operator">==</span> <span class="ruby-string">'by appointment'</span>
    <span class="ruby-ivar">@flag</span>=<span class="ruby-constant">FormResult</span>.<span class="ruby-identifier">find_by_form_id_and_created_by_user_id_and_activity_id_and_participant_id</span>(<span class="ruby-identifier">formid</span>,<span class="ruby-identifier">userid</span>,<span class="ruby-identifier">activityid</span>,<span class="ruby-identifier">partid</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-ivar">@flag</span>=<span class="ruby-constant">FormResult</span>.<span class="ruby-identifier">find_by_form_id_and_created_by_user_id_and_activity_id_and_participant_id_and_schedule_id</span>(<span class="ruby-identifier">formid</span>,<span class="ruby-identifier">userid</span>,<span class="ruby-identifier">activityid</span>,<span class="ruby-identifier">partid</span>,<span class="ruby-identifier">scheduleid</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">return</span> <span class="ruby-ivar">@flag</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- form_filled_participant-source -->
          
        </div>

        

        
      </div><!-- form_filled_participant-method -->

    
      <div id="method-i-format_date_time" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">format_date_time</span><span
            class="method-args">(date,time)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="format_date_time-source">
            <pre><span class="ruby-comment"># File app/helpers/activity_detail_helper.rb, line 81</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">format_date_time</span>(<span class="ruby-identifier">date</span>,<span class="ruby-identifier">time</span>)
  <span class="ruby-identifier">res</span> = <span class="ruby-string">''</span>
  <span class="ruby-keyword">if</span> (<span class="ruby-operator">!</span><span class="ruby-identifier">date</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">time</span>.<span class="ruby-identifier">nil?</span>)
    <span class="ruby-identifier">res_date</span> = <span class="ruby-identifier">date</span>.<span class="ruby-identifier">strftime</span>(<span class="ruby-string">&quot;%Y-%m-%d&quot;</span>)
    <span class="ruby-identifier">res_time</span> = <span class="ruby-identifier">time</span>.<span class="ruby-identifier">strftime</span>(<span class="ruby-string">&quot;%H:%M:%S&quot;</span>)
    <span class="ruby-identifier">res</span> = <span class="ruby-identifier">res_date</span><span class="ruby-operator">+</span><span class="ruby-string">'T'</span><span class="ruby-operator">+</span><span class="ruby-identifier">res_time</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">res</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- format_date_time-source -->
          
        </div>

        

        
      </div><!-- format_date_time-method -->

    
      <div id="method-i-gcal_client_ids" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">gcal_client_ids</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="gcal_client_ids-source">
            <pre><span class="ruby-comment"># File app/helpers/activity_detail_helper.rb, line 144</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">gcal_client_ids</span>
  <span class="ruby-identifier">test_url</span> = <span class="ruby-node">&quot;#{request.protocol}#{request.host_with_port}&quot;</span>
  <span class="ruby-identifier">apiKey</span> = <span class="ruby-string">'AIzaSyDi2NlUVaFXOoIQdSg0uLuvEko89UuZiRE'</span>
  <span class="ruby-identifier">scopes</span> = <span class="ruby-string">'https://www.googleapis.com/auth/calendar'</span>
  <span class="ruby-keyword">case</span> <span class="ruby-identifier">test_url</span>
  <span class="ruby-keyword">when</span> <span class="ruby-string">'http://localhost:3000'</span>
    <span class="ruby-identifier">clientId</span> = <span class="ruby-string">'718685077630-h9m14pcoirss71f3fma9a62rsfe1psqd.apps.googleusercontent.com'</span>
    <span class="ruby-identifier">updated_time_hour</span> = <span class="ruby-value">0</span>
    <span class="ruby-identifier">updated_time_min</span> = <span class="ruby-value">0</span>
  <span class="ruby-keyword">when</span> <span class="ruby-string">'http://dev.famtivity.com:8080'</span>
    <span class="ruby-identifier">clientId</span> = <span class="ruby-string">'718685077630.apps.googleusercontent.com'</span>
    <span class="ruby-identifier">updated_time_hour</span> = <span class="ruby-value">9</span>
    <span class="ruby-identifier">updated_time_min</span> = <span class="ruby-value">30</span>
  <span class="ruby-keyword">when</span> <span class="ruby-string">'http://dev.famtivity.com:3000'</span>
    <span class="ruby-identifier">clientId</span> = <span class="ruby-string">'718685077630-4e1kuj30hvb91ohfqb49gt14imstums5.apps.googleusercontent.com'</span>
    <span class="ruby-identifier">updated_time_hour</span> = <span class="ruby-value">9</span>
    <span class="ruby-identifier">updated_time_min</span> = <span class="ruby-value">30</span>
  <span class="ruby-keyword">when</span> <span class="ruby-string">'http://famtivity.com:3000'</span>
    <span class="ruby-identifier">clientId</span> = <span class="ruby-string">'718685077630-4ubiatqhrn3vhsm78kf07bnmsp9c96hu.apps.googleusercontent.com'</span>
    <span class="ruby-identifier">updated_time_hour</span> = <span class="ruby-value">5</span>
    <span class="ruby-identifier">updated_time_min</span> = <span class="ruby-value">0</span>
  <span class="ruby-keyword">when</span> <span class="ruby-string">'http://famtivity.com:3005'</span>
    <span class="ruby-identifier">clientId</span> = <span class="ruby-string">'718685077630-1mcsb8ntrd8qas2v3p1lhtjki1hndoqa.apps.googleusercontent.com'</span>
    <span class="ruby-identifier">updated_time_hour</span> = <span class="ruby-value">5</span>
    <span class="ruby-identifier">updated_time_min</span> = <span class="ruby-value">0</span>
  <span class="ruby-keyword">when</span> <span class="ruby-string">'https://www.famtivity.com'</span>
    <span class="ruby-identifier">clientId</span> = <span class="ruby-string">'718685077630-ga0cre5un7u1dlacc03uu2o7lh5ac8vp.apps.googleusercontent.com'</span>
    <span class="ruby-identifier">updated_time_hour</span> = <span class="ruby-value">5</span>
    <span class="ruby-identifier">updated_time_min</span> = <span class="ruby-value">30</span>
  <span class="ruby-keyword">when</span> <span class="ruby-string">'https://famtivity.com'</span>
    <span class="ruby-identifier">clientId</span> = <span class="ruby-string">'718685077630-2reda2mi1en9p2mtf0ulbh82ftbe6uqb.apps.googleusercontent.com'</span>
    <span class="ruby-identifier">updated_time_hour</span> = <span class="ruby-value">5</span>
    <span class="ruby-identifier">updated_time_min</span> = <span class="ruby-value">30</span>
  <span class="ruby-keyword">when</span> <span class="ruby-string">'http://uat.famtivity.com:3000'</span>
    <span class="ruby-identifier">clientId</span> = <span class="ruby-string">'718685077630-tpd5ptnktbj484akcpbh36sgmbkm4o67.apps.googleusercontent.com'</span>
    <span class="ruby-identifier">updated_time_hour</span> = <span class="ruby-value">9</span>
    <span class="ruby-identifier">updated_time_min</span> = <span class="ruby-value">30</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">apiKey</span>,<span class="ruby-identifier">clientId</span>,<span class="ruby-identifier">scopes</span>,<span class="ruby-identifier">updated_time_hour</span>,<span class="ruby-identifier">updated_time_min</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- gcal_client_ids-source -->
          
        </div>

        

        
      </div><!-- gcal_client_ids-method -->

    
      <div id="method-i-getCorrectTime" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">getCorrectTime</span><span
            class="method-args">(time)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="getCorrectTime-source">
            <pre><span class="ruby-comment"># File app/helpers/activity_detail_helper.rb, line 440</span>
 <span class="ruby-keyword">def</span> <span class="ruby-identifier">getCorrectTime</span>(<span class="ruby-identifier">time</span>)
         <span class="ruby-identifier">my_path</span>=<span class="ruby-identifier">request</span>.<span class="ruby-identifier">protocol</span><span class="ruby-operator">+</span><span class="ruby-identifier">request</span>.<span class="ruby-identifier">host</span>
         <span class="ruby-keyword">case</span> <span class="ruby-identifier">my_path</span>
         <span class="ruby-keyword">when</span> <span class="ruby-string">'http://dev.famtivity.com'</span>
                <span class="ruby-identifier">get_time</span> = <span class="ruby-identifier">time</span><span class="ruby-operator">+</span><span class="ruby-value">10</span>.<span class="ruby-identifier">hours</span><span class="ruby-operator">-</span><span class="ruby-value">8</span>.<span class="ruby-identifier">minutes</span>
         <span class="ruby-keyword">when</span> <span class="ruby-string">'http://uat.famtivity.com'</span>
                <span class="ruby-identifier">get_time</span> = <span class="ruby-identifier">time</span><span class="ruby-operator">+</span><span class="ruby-value">10</span>.<span class="ruby-identifier">hours</span><span class="ruby-operator">-</span><span class="ruby-value">21</span>.<span class="ruby-identifier">minutes</span>
         <span class="ruby-keyword">when</span> (<span class="ruby-string">'https://www.famtivity.com'</span>) <span class="ruby-operator">||</span> (<span class="ruby-string">'https://famtivity.com'</span>) <span class="ruby-operator">||</span> (<span class="ruby-string">'http://famtivity.com'</span>) <span class="ruby-operator">||</span> (<span class="ruby-string">'http://www.famtivity.com'</span>)
                <span class="ruby-identifier">get_time</span> = <span class="ruby-identifier">time</span><span class="ruby-operator">+</span><span class="ruby-value">5</span>.<span class="ruby-identifier">hours</span><span class="ruby-operator">+</span><span class="ruby-value">25</span>.<span class="ruby-identifier">minutes</span>
         <span class="ruby-keyword">end</span>
         <span class="ruby-identifier">get_time</span>
<span class="ruby-comment">#~ Dev -    +10.hours-8.minutes</span>
<span class="ruby-comment">#~ Uat -     +10.hours-21.minutes</span>
<span class="ruby-comment">#~ Live -    +5.hours+25.minutes</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- getCorrectTime-source -->
          
        </div>

        

        
      </div><!-- getCorrectTime-method -->

    
      <div id="method-i-getDate_for_anytime" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">getDate_for_anytime</span><span
            class="method-args">(day_abbr,str_time,end_time)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="getDate_for_anytime-source">
            <pre><span class="ruby-comment"># File app/helpers/activity_detail_helper.rb, line 406</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">getDate_for_anytime</span>(<span class="ruby-identifier">day_abbr</span>,<span class="ruby-identifier">str_time</span>,<span class="ruby-identifier">end_time</span>)
         <span class="ruby-identifier">get_whole_day</span> = <span class="ruby-identifier">match_entire_day</span>(<span class="ruby-identifier">day_abbr</span>)
         <span class="ruby-identifier">anytime_sdate</span> = <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">get_whole_day</span>)
         <span class="ruby-comment">#~ curr_date = DateTime.now</span>
         <span class="ruby-identifier">curr_date_server</span> = <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">now</span>
         <span class="ruby-identifier">get_correct_time</span> = <span class="ruby-identifier">getCorrectTime</span>(<span class="ruby-identifier">curr_date_server</span>)
         <span class="ruby-identifier">curr_date</span> = (<span class="ruby-operator">!</span><span class="ruby-identifier">get_correct_time</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">get_correct_time</span>.<span class="ruby-identifier">present?</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">get_correct_time</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">curr_date_server</span>
         <span class="ruby-identifier">curr_date_formate</span> = <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">curr_date</span>.<span class="ruby-identifier">strftime</span>(<span class="ruby-string">&quot;%d-%m-%Y&quot;</span>))
         <span class="ruby-identifier">anytime_date_formate</span> = <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">anytime_sdate</span>.<span class="ruby-identifier">strftime</span>(<span class="ruby-string">&quot;%d-%m-%Y&quot;</span>))
         <span class="ruby-identifier">curr_time_formate</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">curr_date</span>.<span class="ruby-identifier">strftime</span>(<span class="ruby-string">&quot;%H:%M&quot;</span>))
         <span class="ruby-identifier">strt_time_formate</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">str_time</span>.<span class="ruby-identifier">strftime</span>(<span class="ruby-string">&quot;%H:%M&quot;</span>))
         <span class="ruby-identifier">end_time_formate</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">end_time</span>.<span class="ruby-identifier">strftime</span>(<span class="ruby-string">&quot;%H:%M&quot;</span>))
         <span class="ruby-comment">#result =  (((curr_date_formate &lt;= anytime_date_formate) &amp;&amp; (curr_time_formate &gt; strt_time_formate) &amp;&amp; (curr_time_formate &lt; end_time_formate)) ? true : false)</span>
        <span class="ruby-keyword">if</span> (<span class="ruby-identifier">curr_date_formate</span> <span class="ruby-operator">&lt;</span> <span class="ruby-identifier">anytime_date_formate</span>)
                <span class="ruby-identifier">result</span> = <span class="ruby-keyword">true</span>
        <span class="ruby-keyword">elsif</span> (<span class="ruby-identifier">curr_date_formate</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">anytime_date_formate</span>)
              <span class="ruby-identifier">result</span> = (((<span class="ruby-identifier">curr_time_formate</span> <span class="ruby-operator">&gt;</span> <span class="ruby-identifier">strt_time_formate</span>) <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-identifier">curr_time_formate</span> <span class="ruby-operator">&lt;</span> <span class="ruby-identifier">end_time_formate</span>)) <span class="ruby-operator">?</span> <span class="ruby-keyword">true</span> <span class="ruby-operator">:</span> <span class="ruby-keyword">false</span>)
        <span class="ruby-keyword">else</span>
                <span class="ruby-identifier">result</span> = <span class="ruby-keyword">false</span>
        <span class="ruby-keyword">end</span>

         <span class="ruby-keyword">if</span> (<span class="ruby-identifier">curr_date_formate</span> <span class="ruby-operator">&gt;</span> <span class="ruby-identifier">anytime_date_formate</span>)
                 <span class="ruby-identifier">final_anydate</span> = <span class="ruby-identifier">anytime_sdate</span><span class="ruby-operator">+</span><span class="ruby-value">7</span>.<span class="ruby-identifier">days</span>
         <span class="ruby-keyword">else</span>
               <span class="ruby-keyword">if</span> (<span class="ruby-identifier">curr_date_formate</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">anytime_date_formate</span>)
                 <span class="ruby-identifier">final_anydate</span> = ((<span class="ruby-identifier">curr_time_formate</span> <span class="ruby-operator">&gt;</span> <span class="ruby-identifier">strt_time_formate</span>) <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-identifier">curr_time_formate</span> <span class="ruby-operator">&lt;</span> <span class="ruby-identifier">end_time_formate</span>)) <span class="ruby-operator">?</span> <span class="ruby-identifier">anytime_sdate</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">anytime_sdate</span><span class="ruby-operator">+</span><span class="ruby-value">7</span>.<span class="ruby-identifier">days</span>
               <span class="ruby-keyword">else</span>
               <span class="ruby-identifier">final_anydate</span> = <span class="ruby-identifier">anytime_sdate</span>
               <span class="ruby-keyword">end</span>
         <span class="ruby-keyword">end</span>
         <span class="ruby-keyword">return</span> <span class="ruby-identifier">result</span>,<span class="ruby-identifier">final_anydate</span>
 <span class="ruby-keyword">end</span></pre>
          </div><!-- getDate_for_anytime-source -->
          
        </div>

        

        
      </div><!-- getDate_for_anytime-method -->

    
      <div id="method-i-get_activity_det" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">get_activity_det</span><span
            class="method-args">(act_id)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>get the activity details</p>
          

          
          <div class="method-source-code" id="get_activity_det-source">
            <pre><span class="ruby-comment"># File app/helpers/activity_detail_helper.rb, line 3</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">get_activity_det</span>(<span class="ruby-identifier">act_id</span>)
  <span class="ruby-identifier">act_price</span> = <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-identifier">act_price</span>= <span class="ruby-constant">ActivityPrice</span>.<span class="ruby-identifier">where</span>(<span class="ruby-string">&quot;activity_id = ?&quot;</span>, <span class="ruby-identifier">act_id</span>) <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">act_id</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">act_id</span>.<span class="ruby-identifier">present?</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">act_price</span> <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">act_price</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">act_price!</span>=<span class="ruby-string">&quot;&quot;</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">act_price</span>.<span class="ruby-identifier">present?</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- get_activity_det-source -->
          
        </div>

        

        
      </div><!-- get_activity_det-method -->

    
      <div id="method-i-googleCalData" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">googleCalData</span><span
            class="method-args">(acti_sched)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Google Calendar Datas</p>
          

          
          <div class="method-source-code" id="googleCalData-source">
            <pre><span class="ruby-comment"># File app/helpers/activity_detail_helper.rb, line 307</span>
  <span class="ruby-keyword">def</span> <span class="ruby-identifier">googleCalData</span>(<span class="ruby-identifier">acti_sched</span>)
        
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">acti_sched</span> <span class="ruby-operator">&amp;&amp;</span>  <span class="ruby-operator">!</span><span class="ruby-identifier">acti_sched</span>.<span class="ruby-identifier">nil?</span>
      <span class="ruby-identifier">activity</span> = <span class="ruby-identifier">acti_sched</span>.<span class="ruby-identifier">activity</span>
      <span class="ruby-identifier">schedule</span> = <span class="ruby-identifier">acti_sched</span>
      <span class="ruby-identifier">repeat</span> = <span class="ruby-identifier">schedule</span>.<span class="ruby-identifier">activity_repeat</span>.<span class="ruby-identifier">last</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">schedule</span>.<span class="ruby-identifier">present?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">schedule</span>.<span class="ruby-identifier">nil?</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">repeat</span>
        <span class="ruby-identifier">set_repeat</span> = <span class="ruby-string">'true'</span>
                    <span class="ruby-identifier">start_form_date</span> = <span class="ruby-identifier">format_date_time</span>(<span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">starts_on</span>,<span class="ruby-identifier">schedule</span>.<span class="ruby-identifier">start_time</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">starts_on</span>.<span class="ruby-identifier">present?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">starts_on</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">schedule</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">schedule</span>.<span class="ruby-identifier">start_time</span>.<span class="ruby-identifier">nil?</span>
                    <span class="ruby-identifier">end_form_date</span> =   ((<span class="ruby-identifier">repeat</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">ends_never</span><span class="ruby-operator">==</span><span class="ruby-keyword">true</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">ends_on</span>.<span class="ruby-identifier">nil?</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">format_date_time</span>(<span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">starts_on</span>,<span class="ruby-identifier">schedule</span>.<span class="ruby-identifier">end_time</span>) <span class="ruby-operator">:</span> (<span class="ruby-identifier">format_date_time</span>(<span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">ends_on</span>,<span class="ruby-identifier">schedule</span>.<span class="ruby-identifier">end_time</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">ends_on</span>.<span class="ruby-identifier">present?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">ends_on</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">schedule</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">schedule</span>.<span class="ruby-identifier">end_time</span>.<span class="ruby-identifier">nil?</span>))
    
        <span class="ruby-identifier">rep_end_date</span> = <span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">ends_on</span>.<span class="ruby-identifier">strftime</span>(<span class="ruby-string">&quot;%Y%m%dT%H%M%SZ&quot;</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">ends_on</span>.<span class="ruby-identifier">present?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">ends_on</span>.<span class="ruby-identifier">nil?</span>
        <span class="ruby-identifier">repeat_occur</span> = <span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">repeats</span>.<span class="ruby-identifier">upcase</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">repeats</span>.<span class="ruby-identifier">present?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">repeats</span>.<span class="ruby-identifier">nil?</span>
        <span class="ruby-identifier">repeat_end_occur</span> = <span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">end_occurences</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">end_occurences</span>.<span class="ruby-identifier">present?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">end_occurences</span>.<span class="ruby-identifier">nil?</span>
        <span class="ruby-identifier">repeat_every_occur</span> = <span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">repeat_every</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">repeat_every</span>.<span class="ruby-identifier">present?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">repeat_every</span>.<span class="ruby-identifier">nil?</span>
                
        <span class="ruby-keyword">if</span> <span class="ruby-identifier">repeat</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">repeat_occur</span><span class="ruby-operator">==</span><span class="ruby-string">'WEEKLY'</span>
          <span class="ruby-identifier">daily_rep_on</span> = <span class="ruby-identifier">googlecal_weekly_rep</span>(<span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">repeat_on</span>)  <span class="ruby-keyword">if</span> <span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">repeat_on</span>.<span class="ruby-identifier">present?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">repeat_on</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">repeat_on</span>.<span class="ruby-identifier">empty?</span>
        <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">repeat</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">repeat_occur</span><span class="ruby-operator">==</span><span class="ruby-string">'MONTHLY'</span>
          <span class="ruby-identifier">daily_rep_on</span> = <span class="ruby-identifier">googlecal_monthly_rep</span>(<span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">starts_on</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">starts_on</span>.<span class="ruby-identifier">present?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">starts_on</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span>  <span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">repeated_by_month</span><span class="ruby-operator">==</span><span class="ruby-constant">FALSE</span>
        <span class="ruby-keyword">end</span>
                     
      <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">schedule</span>.<span class="ruby-identifier">present?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">schedule</span>.<span class="ruby-identifier">nil?</span>
        <span class="ruby-identifier">set_repeat</span> = <span class="ruby-string">'false'</span>
        <span class="ruby-keyword">if</span> <span class="ruby-identifier">schedule</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">schedule</span>.<span class="ruby-identifier">schedule_mode</span>.<span class="ruby-identifier">titlecase</span><span class="ruby-operator">==</span><span class="ruby-string">'Any Time'</span>
          <span class="ruby-identifier">set_repeat</span> = <span class="ruby-string">'true'</span>
                                  <span class="ruby-keyword">if</span> <span class="ruby-identifier">schedule</span>.<span class="ruby-identifier">business_hours</span>.<span class="ruby-identifier">present?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">schedule</span>.<span class="ruby-identifier">business_hours</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">schedule</span>.<span class="ruby-identifier">business_hours</span>.<span class="ruby-identifier">empty?</span> 
            <span class="ruby-identifier">any_time_busi_hours</span> = <span class="ruby-identifier">activity</span>.<span class="ruby-identifier">activity_schedule</span>.<span class="ruby-identifier">map</span>(&amp;<span class="ruby-value">:business_hours</span>)
            <span class="ruby-identifier">repeat_occur</span> = <span class="ruby-string">'WEEKLY'</span>
            <span class="ruby-identifier">daily_rep_on</span> = <span class="ruby-identifier">googlecal_weekly_rep</span>(<span class="ruby-identifier">any_time_busi_hours</span>)
          <span class="ruby-keyword">else</span>
            <span class="ruby-identifier">repeat_occur</span> = <span class="ruby-string">'DAILY'</span>
          <span class="ruby-keyword">end</span>
        <span class="ruby-keyword">end</span>
                        
        <span class="ruby-keyword">if</span> <span class="ruby-identifier">schedule</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">schedule</span>.<span class="ruby-identifier">start_date</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">schedule</span>.<span class="ruby-identifier">end_date</span>.<span class="ruby-identifier">nil?</span>
                            <span class="ruby-identifier">act_end_date</span> = <span class="ruby-identifier">schedule</span>.<span class="ruby-identifier">start_date</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">schedule</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">schedule</span>.<span class="ruby-identifier">start_date</span>.<span class="ruby-identifier">present?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">schedule</span>.<span class="ruby-identifier">start_date</span>.<span class="ruby-identifier">nil?</span>
                            <span class="ruby-identifier">act_start_date</span> = <span class="ruby-identifier">schedule</span>.<span class="ruby-identifier">start_date</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">schedule</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">schedule</span>.<span class="ruby-identifier">start_date</span>.<span class="ruby-identifier">present?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">schedule</span>.<span class="ruby-identifier">start_date</span>.<span class="ruby-identifier">nil?</span>
        <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">schedule</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">schedule</span>.<span class="ruby-identifier">start_date</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">schedule</span>.<span class="ruby-identifier">end_date</span>.<span class="ruby-identifier">nil?</span>
          <span class="ruby-identifier">act_end_date</span> = <span class="ruby-identifier">schedule</span>.<span class="ruby-identifier">end_date</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">schedule</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">schedule</span>.<span class="ruby-identifier">end_date</span>.<span class="ruby-identifier">present?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">schedule</span>.<span class="ruby-identifier">end_date</span>.<span class="ruby-identifier">nil?</span>
          <span class="ruby-identifier">act_start_date</span> = <span class="ruby-identifier">schedule</span>.<span class="ruby-identifier">end_date</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">schedule</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">schedule</span>.<span class="ruby-identifier">end_date</span>.<span class="ruby-identifier">present?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">schedule</span>.<span class="ruby-identifier">end_date</span>.<span class="ruby-identifier">nil?</span>
        <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">schedule</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">schedule</span>.<span class="ruby-identifier">start_date</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">schedule</span>.<span class="ruby-identifier">end_date</span>.<span class="ruby-identifier">nil?</span>
          <span class="ruby-identifier">act_end_date</span> = <span class="ruby-identifier">schedule</span>.<span class="ruby-identifier">end_date</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">schedule</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">schedule</span>.<span class="ruby-identifier">end_date</span>.<span class="ruby-identifier">present?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">schedule</span>.<span class="ruby-identifier">end_date</span>.<span class="ruby-identifier">nil?</span>
                            <span class="ruby-identifier">act_start_date</span> = <span class="ruby-identifier">schedule</span>.<span class="ruby-identifier">start_date</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">schedule</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">schedule</span>.<span class="ruby-identifier">start_date</span>.<span class="ruby-identifier">present?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">schedule</span>.<span class="ruby-identifier">start_date</span>.<span class="ruby-identifier">nil?</span>
        <span class="ruby-keyword">else</span>
           <span class="ruby-keyword">if</span> <span class="ruby-identifier">acti_sched</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">acti_sched</span>.<span class="ruby-identifier">schedule_mode</span>.<span class="ruby-identifier">titlecase</span><span class="ruby-operator">==</span><span class="ruby-string">'Any Time'</span>
                 <span class="ruby-identifier">anytime_date</span> = ((<span class="ruby-identifier">any_time_busi_hours</span>.<span class="ruby-identifier">class</span><span class="ruby-operator">==</span><span class="ruby-constant">Array</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">any_time_busi_hours</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">any_time_busi_hours</span>.<span class="ruby-identifier">split</span>(<span class="ruby-string">','</span>) )
                 <span class="ruby-identifier">any_schedules</span> = <span class="ruby-identifier">activity</span>.<span class="ruby-identifier">activity_schedule</span>
                 <span class="ruby-identifier">week_days</span> = [<span class="ruby-string">'mon'</span>,<span class="ruby-string">'tue'</span>,<span class="ruby-string">'wed'</span>,<span class="ruby-string">'thu'</span>,<span class="ruby-string">'fri'</span>,<span class="ruby-string">'sat'</span>,<span class="ruby-string">'sun'</span>]
                 <span class="ruby-identifier">anytime_schdle</span> = []
                 <span class="ruby-identifier">week_days</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">day</span><span class="ruby-operator">|</span>
                         <span class="ruby-identifier">sch</span> = <span class="ruby-identifier">any_schedules</span>.<span class="ruby-identifier">select</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">x</span>.<span class="ruby-identifier">business_hours</span><span class="ruby-operator">==</span><span class="ruby-identifier">day</span>}
                         <span class="ruby-identifier">anytime_schdle</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">sch</span>
                 <span class="ruby-keyword">end</span>
                <span class="ruby-identifier">anytime_schdle</span> = <span class="ruby-identifier">anytime_schdle</span>.<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">compact</span>
                 <span class="ruby-keyword">if</span> <span class="ruby-identifier">anytime_date</span>.<span class="ruby-identifier">count</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>
                        <span class="ruby-identifier">i</span>=<span class="ruby-value">0</span>
                        <span class="ruby-keyword">begin</span>
                          <span class="ruby-identifier">any_d</span> = <span class="ruby-identifier">anytime_schdle</span>[<span class="ruby-identifier">i</span>]
                          <span class="ruby-identifier">chk_any</span> = <span class="ruby-identifier">getDate_for_anytime</span>(<span class="ruby-identifier">any_d</span>.<span class="ruby-identifier">business_hours</span>,<span class="ruby-identifier">any_d</span>.<span class="ruby-identifier">start_time</span>,<span class="ruby-identifier">any_d</span>.<span class="ruby-identifier">end_time</span>)
                          <span class="ruby-keyword">if</span> <span class="ruby-identifier">any_d</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">any_d</span>.<span class="ruby-identifier">present?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">chk_any</span>[<span class="ruby-value">0</span>]<span class="ruby-operator">==</span><span class="ruby-keyword">true</span>
                          <span class="ruby-identifier">test_arr</span> = <span class="ruby-identifier">chk_any</span>[<span class="ruby-value">1</span>] 
                          <span class="ruby-keyword">end</span>
                          <span class="ruby-identifier">i</span>=<span class="ruby-identifier">i</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>
                        <span class="ruby-keyword">end</span> <span class="ruby-keyword">while</span> <span class="ruby-operator">!</span>(<span class="ruby-identifier">i</span><span class="ruby-operator">&gt;</span>(<span class="ruby-identifier">anytime_schdle</span>.<span class="ruby-identifier">count</span><span class="ruby-operator">-</span><span class="ruby-value">1</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">chk_any</span>[<span class="ruby-value">0</span>]<span class="ruby-operator">==</span><span class="ruby-keyword">true</span>)
                        <span class="ruby-keyword">if</span> <span class="ruby-identifier">chk_any</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">chk_any</span>[<span class="ruby-value">0</span>]<span class="ruby-operator">==</span><span class="ruby-keyword">false</span>
                                <span class="ruby-identifier">test_arr</span> = <span class="ruby-identifier">getDate_for_anytime</span>(<span class="ruby-identifier">anytime_schdle</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">business_hours</span>,<span class="ruby-identifier">anytime_schdle</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">start_time</span>,<span class="ruby-identifier">anytime_schdle</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">end_time</span>)[<span class="ruby-value">1</span>] 
                                <span class="ruby-identifier">any_d</span> = <span class="ruby-identifier">anytime_schdle</span>.<span class="ruby-identifier">first</span>
                        <span class="ruby-keyword">end</span> 
                 <span class="ruby-keyword">else</span>
                         <span class="ruby-identifier">test_arr</span> = <span class="ruby-identifier">getDate_for_anytime</span>(<span class="ruby-identifier">anytime_schdle</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">business_hours</span>,<span class="ruby-identifier">anytime_schdle</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">start_time</span>,<span class="ruby-identifier">anytime_schdle</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">end_time</span>)[<span class="ruby-value">1</span>] <span class="ruby-keyword">if</span> <span class="ruby-identifier">anytime_date</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">anytime_date</span>.<span class="ruby-identifier">present?</span>
                         <span class="ruby-identifier">any_d</span> = <span class="ruby-identifier">anytime_schdle</span>.<span class="ruby-identifier">first</span>
                 <span class="ruby-keyword">end</span>
                <span class="ruby-identifier">act_date</span> = <span class="ruby-identifier">test_arr</span>
           <span class="ruby-keyword">else</span>
             <span class="ruby-identifier">act_end_date</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>
             <span class="ruby-identifier">act_start_date</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>
           <span class="ruby-keyword">end</span>
        <span class="ruby-keyword">end</span>
                          <span class="ruby-keyword">if</span> <span class="ruby-identifier">acti_sched</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">acti_sched</span>.<span class="ruby-identifier">schedule_mode</span>.<span class="ruby-identifier">titlecase</span><span class="ruby-operator">==</span><span class="ruby-string">'Any Time'</span>
                                <span class="ruby-identifier">start_form_date</span> = <span class="ruby-identifier">format_date_time</span>(<span class="ruby-identifier">act_date</span>,<span class="ruby-identifier">any_d</span>.<span class="ruby-identifier">start_time</span>) <span class="ruby-keyword">if</span> (<span class="ruby-identifier">act_date</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">act_date</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">any_d</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">any_d</span>.<span class="ruby-identifier">present?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">any_d</span>.<span class="ruby-identifier">start_time</span>.<span class="ruby-identifier">present?</span>)
                                <span class="ruby-identifier">end_form_date</span> = <span class="ruby-identifier">format_date_time</span>(<span class="ruby-identifier">act_date</span>,<span class="ruby-identifier">any_d</span>.<span class="ruby-identifier">end_time</span>) <span class="ruby-keyword">if</span> (<span class="ruby-identifier">act_date</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">act_date</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">any_d</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">any_d</span>.<span class="ruby-identifier">present?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">any_d</span>.<span class="ruby-identifier">end_time</span>.<span class="ruby-identifier">present?</span>)
                          <span class="ruby-keyword">else</span>
                                <span class="ruby-identifier">start_form_date</span> = <span class="ruby-identifier">format_date_time</span>(<span class="ruby-identifier">act_start_date</span>,<span class="ruby-identifier">schedule</span>.<span class="ruby-identifier">start_time</span>) <span class="ruby-keyword">if</span> (<span class="ruby-identifier">schedule</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">act_start_date</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">schedule</span>.<span class="ruby-identifier">start_time</span>.<span class="ruby-identifier">nil?</span>)   
                                <span class="ruby-identifier">end_form_date</span> = <span class="ruby-identifier">format_date_time</span>(<span class="ruby-identifier">act_end_date</span>,<span class="ruby-identifier">schedule</span>.<span class="ruby-identifier">end_time</span>) <span class="ruby-keyword">if</span> (<span class="ruby-identifier">schedule</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">act_end_date</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">schedule</span>.<span class="ruby-identifier">end_time</span>.<span class="ruby-identifier">nil?</span>) 
                          <span class="ruby-keyword">end</span>
     <span class="ruby-keyword">else</span>
        <span class="ruby-keyword">if</span> <span class="ruby-identifier">acti_sched</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">acti_sched</span>.<span class="ruby-identifier">schedule_mode</span>.<span class="ruby-identifier">titlecase</span><span class="ruby-operator">==</span><span class="ruby-string">'Any Time'</span>
                      <span class="ruby-identifier">set_repeat</span> = <span class="ruby-string">'true'</span>
                      <span class="ruby-identifier">repeat_occur</span> = <span class="ruby-string">'DAILY'</span>
        <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
                        <span class="ruby-identifier">start_date</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">start_form_date</span>).<span class="ruby-identifier">utc</span>.<span class="ruby-identifier">to_i</span>*<span class="ruby-value">1000</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">start_form_date</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">start_form_date</span>.<span class="ruby-identifier">nil?</span>
                        <span class="ruby-identifier">end_date</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">end_form_date</span>).<span class="ruby-identifier">utc</span>.<span class="ruby-identifier">to_i</span>*<span class="ruby-value">1000</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">end_form_date</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">end_form_date</span>.<span class="ruby-identifier">nil?</span>
      <span class="ruby-keyword">return</span> <span class="ruby-identifier">start_date</span>,<span class="ruby-identifier">end_date</span>, <span class="ruby-identifier">rep_end_date</span>,<span class="ruby-identifier">repeat_occur</span>,<span class="ruby-identifier">set_repeat</span>,<span class="ruby-identifier">repeat_end_occur</span>,<span class="ruby-identifier">repeat_every_occur</span>,<span class="ruby-identifier">daily_rep_on</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span></pre>
          </div><!-- googleCalData-source -->
          
        </div>

        

        
      </div><!-- googleCalData-method -->

    
      <div id="method-i-googlecal_monthly_rep" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">googlecal_monthly_rep</span><span
            class="method-args">(started_on)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="googlecal_monthly_rep-source">
            <pre><span class="ruby-comment"># File app/helpers/activity_detail_helper.rb, line 22</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">googlecal_monthly_rep</span>(<span class="ruby-identifier">started_on</span>)
  <span class="ruby-identifier">result</span> = <span class="ruby-string">''</span>
  <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">started_on</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">started_on</span>.<span class="ruby-identifier">present?</span>
    <span class="ruby-identifier">my_date</span> =<span class="ruby-identifier">started_on</span>
    <span class="ruby-identifier">week_of_target_date</span> = <span class="ruby-identifier">my_date</span>.<span class="ruby-identifier">strftime</span>(<span class="ruby-string">&quot;%U&quot;</span>).<span class="ruby-identifier">to_i</span>
    <span class="ruby-identifier">week_of_beginning_of_month</span> = <span class="ruby-identifier">my_date</span>.<span class="ruby-identifier">beginning_of_month</span>.<span class="ruby-identifier">strftime</span>(<span class="ruby-string">&quot;%U&quot;</span>).<span class="ruby-identifier">to_i</span>
    <span class="ruby-identifier">repeat_week</span> = (<span class="ruby-identifier">week_of_target_date</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">week_of_beginning_of_month</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>).<span class="ruby-identifier">to_s</span>
    <span class="ruby-identifier">day_of_week</span> = <span class="ruby-identifier">my_date</span>.<span class="ruby-identifier">strftime</span>(<span class="ruby-string">&quot;%a&quot;</span>)
    <span class="ruby-identifier">day</span> = <span class="ruby-identifier">match_days</span>(<span class="ruby-identifier">day_of_week</span>)
    <span class="ruby-identifier">result</span> = <span class="ruby-identifier">result</span><span class="ruby-operator">+</span><span class="ruby-identifier">repeat_week</span><span class="ruby-operator">+</span><span class="ruby-identifier">day</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">result</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- googlecal_monthly_rep-source -->
          
        </div>

        

        
      </div><!-- googlecal_monthly_rep-method -->

    
      <div id="method-i-googlecal_weekly_rep" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">googlecal_weekly_rep</span><span
            class="method-args">(repeat_days)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="googlecal_weekly_rep-source">
            <pre><span class="ruby-comment"># File app/helpers/activity_detail_helper.rb, line 9</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">googlecal_weekly_rep</span>(<span class="ruby-identifier">repeat_days</span>)
  <span class="ruby-identifier">result</span> = <span class="ruby-string">''</span>
  <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">repeat_days</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">repeat_days</span>.<span class="ruby-identifier">present?</span>
    <span class="ruby-identifier">rep_split</span> = ((<span class="ruby-identifier">repeat_days</span>.<span class="ruby-identifier">class</span><span class="ruby-operator">==</span><span class="ruby-constant">Array</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">repeat_days</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">repeat_days</span>.<span class="ruby-identifier">split</span>(<span class="ruby-string">','</span>) )
    <span class="ruby-identifier">rep_split</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">days</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">day</span> = <span class="ruby-identifier">match_days</span>(<span class="ruby-identifier">days</span>)
      <span class="ruby-identifier">result</span> = ((<span class="ruby-identifier">result</span><span class="ruby-operator">==</span><span class="ruby-string">''</span>)<span class="ruby-operator">?</span> <span class="ruby-identifier">result</span><span class="ruby-operator">+</span><span class="ruby-identifier">day</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">result</span><span class="ruby-operator">+</span><span class="ruby-string">','</span><span class="ruby-operator">+</span><span class="ruby-identifier">day</span>) <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">day</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">day</span>.<span class="ruby-identifier">present?</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">result</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- googlecal_weekly_rep-source -->
          
        </div>

        

        
      </div><!-- googlecal_weekly_rep-method -->

    
      <div id="method-i-match_calendar_day" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">match_calendar_day</span><span
            class="method-args">(day)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>event calendar get repeat on days</p>
          

          
          <div class="method-source-code" id="match_calendar_day-source">
            <pre><span class="ruby-comment"># File app/helpers/activity_detail_helper.rb, line 624</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">match_calendar_day</span>(<span class="ruby-identifier">day</span>)
<span class="ruby-keyword">if</span> <span class="ruby-identifier">day</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">day</span>.<span class="ruby-identifier">present?</span>
      <span class="ruby-keyword">case</span> <span class="ruby-identifier">day</span>.<span class="ruby-identifier">titlecase</span>
      <span class="ruby-keyword">when</span> <span class="ruby-string">'Mon'</span>
        <span class="ruby-identifier">day</span>=<span class="ruby-value">:monday</span>
      <span class="ruby-keyword">when</span> <span class="ruby-string">'Tue'</span>
        <span class="ruby-identifier">day</span>=<span class="ruby-value">:tuesday</span>
      <span class="ruby-keyword">when</span> <span class="ruby-string">'Wed'</span>
        <span class="ruby-identifier">day</span>=<span class="ruby-value">:wednesday</span>
      <span class="ruby-keyword">when</span> <span class="ruby-string">'Thu'</span>
        <span class="ruby-identifier">day</span>=<span class="ruby-value">:thursday</span>
      <span class="ruby-keyword">when</span> <span class="ruby-string">'Fri'</span>
        <span class="ruby-identifier">day</span>=<span class="ruby-value">:friday</span>
      <span class="ruby-keyword">when</span> <span class="ruby-string">'Sat'</span>
        <span class="ruby-identifier">day</span>=<span class="ruby-value">:saturday</span>
      <span class="ruby-keyword">when</span> <span class="ruby-string">'Sun'</span>
        <span class="ruby-identifier">day</span>=<span class="ruby-value">:sunday</span>
      <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">return</span> <span class="ruby-identifier">day</span>
<span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- match_calendar_day-source -->
          
        </div>

        

        
      </div><!-- match_calendar_day-method -->

    
      <div id="method-i-match_days" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">match_days</span><span
            class="method-args">(days)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="match_days-source">
            <pre><span class="ruby-comment"># File app/helpers/activity_detail_helper.rb, line 36</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">match_days</span>(<span class="ruby-identifier">days</span>)
  <span class="ruby-keyword">if</span> (<span class="ruby-operator">!</span><span class="ruby-identifier">days</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">days</span>.<span class="ruby-identifier">present?</span>)
    <span class="ruby-keyword">case</span> <span class="ruby-identifier">days</span>.<span class="ruby-identifier">titlecase</span>
    <span class="ruby-keyword">when</span> <span class="ruby-string">'Mon'</span>
      <span class="ruby-identifier">day</span>=<span class="ruby-string">'MO'</span>
    <span class="ruby-keyword">when</span> <span class="ruby-string">'Tue'</span>
      <span class="ruby-identifier">day</span>=<span class="ruby-string">'TU'</span>
    <span class="ruby-keyword">when</span> <span class="ruby-string">'Wed'</span>
      <span class="ruby-identifier">day</span>=<span class="ruby-string">'WE'</span>
    <span class="ruby-keyword">when</span> <span class="ruby-string">'Thu'</span>
      <span class="ruby-identifier">day</span>=<span class="ruby-string">'TH'</span>
    <span class="ruby-keyword">when</span> <span class="ruby-string">'Fri'</span>
      <span class="ruby-identifier">day</span>=<span class="ruby-string">'FR'</span>
    <span class="ruby-keyword">when</span> <span class="ruby-string">'Sat'</span>
      <span class="ruby-identifier">day</span>=<span class="ruby-string">'SA'</span>
    <span class="ruby-keyword">when</span> <span class="ruby-string">'Sun'</span>
      <span class="ruby-identifier">day</span>=<span class="ruby-string">'SU'</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">day</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- match_days-source -->
          
        </div>

        

        
      </div><!-- match_days-method -->

    
      <div id="method-i-match_entire_day" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">match_entire_day</span><span
            class="method-args">(days)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="match_entire_day-source">
            <pre><span class="ruby-comment"># File app/helpers/activity_detail_helper.rb, line 59</span>
  <span class="ruby-keyword">def</span> <span class="ruby-identifier">match_entire_day</span>(<span class="ruby-identifier">days</span>)
  <span class="ruby-keyword">if</span> (<span class="ruby-operator">!</span><span class="ruby-identifier">days</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">days</span>.<span class="ruby-identifier">present?</span>)
    <span class="ruby-keyword">case</span> <span class="ruby-identifier">days</span>.<span class="ruby-identifier">titlecase</span>
    <span class="ruby-keyword">when</span> <span class="ruby-string">'Mon'</span>
      <span class="ruby-identifier">day</span>=<span class="ruby-string">'Monday'</span>
    <span class="ruby-keyword">when</span> <span class="ruby-string">'Tue'</span>
      <span class="ruby-identifier">day</span>=<span class="ruby-string">'Tuesday'</span>
    <span class="ruby-keyword">when</span> <span class="ruby-string">'Wed'</span>
      <span class="ruby-identifier">day</span>=<span class="ruby-string">'Wednesday'</span>
    <span class="ruby-keyword">when</span> <span class="ruby-string">'Thu'</span>
      <span class="ruby-identifier">day</span>=<span class="ruby-string">'Thursday'</span>
    <span class="ruby-keyword">when</span> <span class="ruby-string">'Fri'</span>
      <span class="ruby-identifier">day</span>=<span class="ruby-string">'Friday'</span>
    <span class="ruby-keyword">when</span> <span class="ruby-string">'Sat'</span>
      <span class="ruby-identifier">day</span>=<span class="ruby-string">'Saturday'</span>
    <span class="ruby-keyword">when</span> <span class="ruby-string">'Sun'</span>
      <span class="ruby-identifier">day</span>=<span class="ruby-string">'Sunday'</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">day</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- match_entire_day-source -->
          
        </div>

        

        
      </div><!-- match_entire_day-method -->

    
      <div id="method-i-selfCheckParti" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">selfCheckParti</span><span
            class="method-args">(act)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="selfCheckParti-source">
            <pre><span class="ruby-comment"># File app/helpers/activity_detail_helper.rb, line 138</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">selfCheckParti</span>(<span class="ruby-identifier">act</span>)
  <span class="ruby-identifier">parti_attended</span> = (<span class="ruby-identifier">act</span>.<span class="ruby-identifier">schedule_mode</span>.<span class="ruby-identifier">downcase</span><span class="ruby-operator">==</span><span class="ruby-string">'any time'</span>) <span class="ruby-operator">?</span> <span class="ruby-constant">ActivityAttendDetail</span>.<span class="ruby-identifier">where</span>(<span class="ruby-string">'activity_id=? and lower(payment_status)=?'</span>,<span class="ruby-identifier">act</span>.<span class="ruby-identifier">activity_id</span>,<span class="ruby-string">'paid'</span>).<span class="ruby-identifier">count</span> <span class="ruby-operator">:</span> <span class="ruby-constant">ActivityAttendDetail</span>.<span class="ruby-identifier">where</span>(<span class="ruby-string">'schedule_id=? and lower(payment_status)=?'</span>,<span class="ruby-identifier">act</span>.<span class="ruby-identifier">schedule_id</span>,<span class="ruby-string">'paid'</span>).<span class="ruby-identifier">count</span>
  <span class="ruby-identifier">can_attnd</span> = <span class="ruby-identifier">act</span>.<span class="ruby-identifier">no_of_participant</span><span class="ruby-operator">-</span><span class="ruby-identifier">parti_attended</span> <span class="ruby-keyword">if</span>(<span class="ruby-operator">!</span><span class="ruby-identifier">act</span>.<span class="ruby-identifier">no_of_participant</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">parti_attended</span>.<span class="ruby-identifier">nil?</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">can_attnd</span>,<span class="ruby-identifier">act</span>.<span class="ruby-identifier">no_of_participant</span>,<span class="ruby-identifier">parti_attended</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- selfCheckParti-source -->
          
        </div>

        

        
      </div><!-- selfCheckParti-method -->

    
      <div id="method-i-time_zone_location" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">time_zone_location</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="time_zone_location-source">
            <pre><span class="ruby-comment"># File app/helpers/activity_detail_helper.rb, line 91</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">time_zone_location</span>
  <span class="ruby-identifier">ip_addr</span> = <span class="ruby-identifier">request</span>.<span class="ruby-identifier">remote_ip</span>
  <span class="ruby-keyword">if</span> (<span class="ruby-operator">!</span><span class="ruby-identifier">ip_addr</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">ip_addr</span>.<span class="ruby-identifier">present?</span>)
    <span class="ruby-keyword">begin</span>
      <span class="ruby-identifier">geo</span> =  <span class="ruby-constant">GeoIp</span>.<span class="ruby-identifier">geolocation</span>(<span class="ruby-identifier">ip_addr</span>)
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">geo</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">geo</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">geo</span>[<span class="ruby-value">:country_name</span>]<span class="ruby-operator">!=</span><span class="ruby-string">'-'</span>
        <span class="ruby-identifier">time_zone</span> = (<span class="ruby-operator">!</span><span class="ruby-identifier">geo</span>[<span class="ruby-value">:country_name</span>].<span class="ruby-identifier">nil?</span> <span class="ruby-operator">?</span> (<span class="ruby-identifier">geo</span>[<span class="ruby-value">:country_name</span>].<span class="ruby-identifier">titlecase</span><span class="ruby-operator">==</span><span class="ruby-string">'United States'</span> <span class="ruby-operator">?</span> <span class="ruby-string">&quot;America/Los_Angeles&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-string">&quot;Asia/Kolkata&quot;</span> ) <span class="ruby-operator">:</span> <span class="ruby-string">&quot;Asia/Kolkata&quot;</span>)
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">time_zone</span> = <span class="ruby-string">&quot;Asia/Kolkata&quot;</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">rescue</span> <span class="ruby-constant">Exception</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
      <span class="ruby-identifier">time_zone</span> = <span class="ruby-string">&quot;Asia/Kolkata&quot;</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">time_zone</span> = <span class="ruby-string">&quot;Asia/Kolkata&quot;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">time_zone</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- time_zone_location-source -->
          
        </div>

        

        
      </div><!-- time_zone_location-method -->

    
    </section><!-- public-instance-method-details -->
  
  </section><!-- 5Buntitled-5D -->

</div><!-- documentation -->


<footer id="validator-badges">
  <p><a href="http://validator.w3.org/check/referer">[Validate]</a>
  <p>Generated by <a href="https://github.com/rdoc/rdoc">RDoc</a> 3.12.2.
  <p>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish Rdoc Generator</a> 3.
</footer>

